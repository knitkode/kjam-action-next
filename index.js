(()=>{var __webpack_modules__={5704:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const i=o(r(2037));const a=r(7094);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+i.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const u="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=u+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${u}${escapeData(this.message)}`;return e}}function escapeData(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},754:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);s(t,e);return t};var i=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(5704);const u=r(208);const c=r(7094);const l=o(r(2037));const f=o(r(1017));const p=r(9037);var d;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(d=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=c.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${l.EOL}${r}${l.EOL}${t}`;u.issueCommand("ENV",n)}else{a.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){u.issueCommand("PATH",e)}else{a.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));return r}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const n=["false","False","FALSE"];const s=getInput(e,t);if(r.includes(s))return true;if(n.includes(s))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){process.stdout.write(l.EOL);a.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=d.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){a.issueCommand("error",c.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){a.issueCommand("warning",c.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){a.issueCommand("notice",c.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+l.EOL)}t.info=info;function startGroup(e){a.issue("group",e)}t.startGroup=startGroup;function endGroup(){a.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return i(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){a.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return i(this,void 0,void 0,(function*(){return yield p.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken},208:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issueCommand=void 0;const i=o(r(7147));const a=o(r(2037));const u=r(7094);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!i.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}i.appendFileSync(r,`${u.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},9037:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const s=r(7792);const o=r(4280);const i=r(754);class OidcClient{static createHttpClient(e=true,t=10){const r={allowRetries:e,maxRetries:t};return new s.HttpClient("actions/oidc-client",[new o.BearerCredentialHandler(OidcClient.getRequestToken())],r)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return n(this,void 0,void 0,(function*(){const r=OidcClient.createHttpClient();const n=yield r.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const s=(t=n.result)===null||t===void 0?void 0:t.value;if(!s){throw new Error("Response json body do not have ID Token field")}return s}))}static getIDToken(e){return n(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const r=encodeURIComponent(e);t=`${t}&audience=${r}`}i.debug(`ID token url is ${t}`);const r=yield OidcClient.getCall(t);i.setSecret(r);return r}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},7094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},4280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Bearer "+this.token}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},7792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(3685);const s=r(5687);const o=r(2097);let i;var a;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(a=t.HttpCodes||(t.HttpCodes={}));var u;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(u=t.Headers||(t.Headers={}));var c;(function(e){e["ApplicationJson"]="application/json"})(c=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){let t=o.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const l=[a.MovedPermanently,a.ResourceMoved,a.SeeOther,a.TemporaryRedirect,a.PermanentRedirect];const f=[a.BadGateway,a.ServiceUnavailable,a.GatewayTimeout];const p=["OPTIONS","GET","DELETE","HEAD"];const d=10;const h=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return new Promise((async(e,t)=>{let r=Buffer.alloc(0);this.message.on("data",(e=>{r=Buffer.concat([r,e])}));this.message.on("end",(()=>{e(r.toString())}))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){let t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,r){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=r;if(r){if(r.ignoreSslError!=null){this._ignoreSslError=r.ignoreSslError}this._socketTimeout=r.socketTimeout;if(r.allowRedirects!=null){this._allowRedirects=r.allowRedirects}if(r.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=r.allowRedirectDowngrade}if(r.maxRedirects!=null){this._maxRedirects=Math.max(r.maxRedirects,0)}if(r.keepAlive!=null){this._keepAlive=r.keepAlive}if(r.allowRetries!=null){this._allowRetries=r.allowRetries}if(r.maxRetries!=null){this._maxRetries=r.maxRetries}}}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,r){return this.request("POST",e,t,r||{})}patch(e,t,r){return this.request("PATCH",e,t,r||{})}put(e,t,r){return this.request("PUT",e,t,r||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,r,n){return this.request(e,t,r,n)}async getJson(e,t={}){t[u.Accept]=this._getExistingOrDefaultHeader(t,u.Accept,c.ApplicationJson);let r=await this.get(e,t);return this._processResponse(r,this.requestOptions)}async postJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[u.Accept]=this._getExistingOrDefaultHeader(r,u.Accept,c.ApplicationJson);r[u.ContentType]=this._getExistingOrDefaultHeader(r,u.ContentType,c.ApplicationJson);let s=await this.post(e,n,r);return this._processResponse(s,this.requestOptions)}async putJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[u.Accept]=this._getExistingOrDefaultHeader(r,u.Accept,c.ApplicationJson);r[u.ContentType]=this._getExistingOrDefaultHeader(r,u.ContentType,c.ApplicationJson);let s=await this.put(e,n,r);return this._processResponse(s,this.requestOptions)}async patchJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[u.Accept]=this._getExistingOrDefaultHeader(r,u.Accept,c.ApplicationJson);r[u.ContentType]=this._getExistingOrDefaultHeader(r,u.ContentType,c.ApplicationJson);let s=await this.patch(e,n,r);return this._processResponse(s,this.requestOptions)}async request(e,t,r,n){if(this._disposed){throw new Error("Client has already been disposed.")}let s=new URL(t);let o=this._prepareRequest(e,s,n);let i=this._allowRetries&&p.indexOf(e)!=-1?this._maxRetries+1:1;let u=0;let c;while(u<i){c=await this.requestRaw(o,r);if(c&&c.message&&c.message.statusCode===a.Unauthorized){let e;for(let t=0;t<this.handlers.length;t++){if(this.handlers[t].canHandleAuthentication(c)){e=this.handlers[t];break}}if(e){return e.handleAuthentication(this,o,r)}else{return c}}let t=this._maxRedirects;while(l.indexOf(c.message.statusCode)!=-1&&this._allowRedirects&&t>0){const i=c.message.headers["location"];if(!i){break}let a=new URL(i);if(s.protocol=="https:"&&s.protocol!=a.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}await c.readBody();if(a.hostname!==s.hostname){for(let e in n){if(e.toLowerCase()==="authorization"){delete n[e]}}}o=this._prepareRequest(e,a,n);c=await this.requestRaw(o,r);t--}if(f.indexOf(c.message.statusCode)==-1){return c}u+=1;if(u<i){await c.readBody();await this._performExponentialBackoff(u)}}return c}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return new Promise(((r,n)=>{let callbackForResult=function(e,t){if(e){n(e)}r(t)};this.requestRawWithCallback(e,t,callbackForResult)}))}requestRawWithCallback(e,t,r){let n;if(typeof t==="string"){e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let s=false;let handleResult=(e,t)=>{if(!s){s=true;r(e,t)}};let o=e.httpModule.request(e.options,(e=>{let t=new HttpClientResponse(e);handleResult(null,t)}));o.on("socket",(e=>{n=e}));o.setTimeout(this._socketTimeout||3*6e4,(()=>{if(n){n.end()}handleResult(new Error("Request timeout: "+e.options.path),null)}));o.on("error",(function(e){handleResult(e,null)}));if(t&&typeof t==="string"){o.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){o.end()}));t.pipe(o)}else{o.end()}}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const o={};o.parsedUrl=t;const i=o.parsedUrl.protocol==="https:";o.httpModule=i?s:n;const a=i?443:80;o.options={};o.options.host=o.parsedUrl.hostname;o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):a;o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||"");o.options.method=e;o.options.headers=this._mergeHeaders(r);if(this.userAgent!=null){o.options.headers["user-agent"]=this.userAgent}o.options.agent=this._getAgent(o.parsedUrl);if(this.handlers){this.handlers.forEach((e=>{e.prepareRequest(o.options)}))}return o}_mergeHeaders(e){const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{});if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,r){const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{});let n;if(this.requestOptions&&this.requestOptions.headers){n=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||n||r}_getAgent(e){let t;let a=o.getProxyUrl(e);let u=a&&a.hostname;if(this._keepAlive&&u){t=this._proxyAgent}if(this._keepAlive&&!u){t=this._agent}if(!!t){return t}const c=e.protocol==="https:";let l=100;if(!!this.requestOptions){l=this.requestOptions.maxSockets||n.globalAgent.maxSockets}if(u){if(!i){i=r(7028)}const e={maxSockets:l,keepAlive:this._keepAlive,proxy:{...(a.username||a.password)&&{proxyAuth:`${a.username}:${a.password}`},host:a.hostname,port:a.port}};let n;const s=a.protocol==="https:";if(c){n=s?i.httpsOverHttps:i.httpsOverHttp}else{n=s?i.httpOverHttps:i.httpOverHttp}t=n(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:l};t=c?new s.Agent(e):new n.Agent(e);this._agent=t}if(!t){t=c?s.globalAgent:n.globalAgent}if(c&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){e=Math.min(d,e);const t=h*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}static dateTimeDeserializer(e,t){if(typeof t==="string"){let e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}async _processResponse(e,t){return new Promise((async(r,n)=>{const s=e.message.statusCode;const o={statusCode:s,result:null,headers:{}};if(s==a.NotFound){r(o)}let i;let u;try{u=await e.readBody();if(u&&u.length>0){if(t&&t.deserializeDates){i=JSON.parse(u,HttpClient.dateTimeDeserializer)}else{i=JSON.parse(u)}o.result=i}o.headers=e.message.headers}catch(e){}if(s>299){let e;if(i&&i.message){e=i.message}else if(u&&u.length>0){e=u}else{e="Failed request: ("+s+")"}let t=new HttpClientError(e,s);t.result=o.result;n(t)}else{r(o)}}))}}t.HttpClient=HttpClient},2097:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getProxyUrl(e){let t=e.protocol==="https:";let r;if(checkBypass(e)){return r}let n;if(t){n=process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{n=process.env["http_proxy"]||process.env["HTTP_PROXY"]}if(n){r=new URL(n)}return r}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}let t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let r;if(e.port){r=Number(e.port)}else if(e.protocol==="http:"){r=80}else if(e.protocol==="https:"){r=443}let n=[e.hostname.toUpperCase()];if(typeof r==="number"){n.push(`${n[0]}:${r}`)}for(let e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(n.some((t=>t===e))){return true}}return false}t.checkBypass=checkBypass},3248:(e,t,r)=>{"use strict";function __export(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});__export(r(8362))},8362:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const s=r(7147);const o=n(r(4896));const i=o.default("@kwsites/file-exists");function check(e,t,r){i(`checking %s`,e);try{const n=s.statSync(e);if(n.isFile()&&t){i(`[OK] path represents a file`);return true}if(n.isDirectory()&&r){i(`[OK] path represents a directory`);return true}i(`[FAIL] path represents something other than a file or directory`);return false}catch(e){if(e.code==="ENOENT"){i(`[FAIL] path is not accessible: %o`,e);return false}i(`[FATAL] %o`,e);throw e}}function exists(e,r=t.READABLE){return check(e,(r&t.FILE)>0,(r&t.FOLDER)>0)}t.exists=exists;t.FILE=1;t.FOLDER=2;t.READABLE=t.FILE+t.FOLDER},3965:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDeferred=t.deferred=void 0;function deferred(){let e;let t;let r="pending";const n=new Promise(((r,n)=>{e=r;t=n}));return{promise:n,done(t){if(r==="pending"){r="resolved";e(t)}},fail(e){if(r==="pending"){r="rejected";t(e)}},get fulfilled(){return r!=="pending"},get status(){return r}}}t.deferred=deferred;t.createDeferred=deferred;t["default"]=deferred},3113:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){s=n}}));t.splice(s,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(7530)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7530:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(7843);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let s;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const s=n-(t||n);r.diff=s;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}o++;const s=createDebug.formatters[n];if(typeof s==="function"){const n=e[o];t=s.call(r,n);e.splice(o,1);o--}return t}));createDebug.formatArgs.call(r,e);const i=r.log||createDebug.log;i.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;s=createDebug.enabled(e)}return s},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},4896:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(3113)}else{e.exports=r(808)}},808:(e,t,r)=>{const n=r(6224);const s=r(3837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(9137);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const s="[3"+(n<8?n:"8;5;"+n);const o=`  ${s};1m${r} [0m`;t[0]=o+t[0].split("\n").join("\n"+o);t.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(s.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(7530)(t);const{formatters:o}=e.exports;o.o=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};o.O=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts)}},6142:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}},7843:e=>{var t=1e3;var r=t*60;var n=r*60;var s=n*24;var o=s*7;var i=s*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var u=parseFloat(a[1]);var c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*i;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*s;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return undefined}}function fmtShort(e){var o=Math.abs(e);if(o>=s){return Math.round(e/s)+"d"}if(o>=n){return Math.round(e/n)+"h"}if(o>=r){return Math.round(e/r)+"m"}if(o>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var o=Math.abs(e);if(o>=s){return plural(e,o,s,"day")}if(o>=n){return plural(e,o,n,"hour")}if(o>=r){return plural(e,o,r,"minute")}if(o>=t){return plural(e,o,t,"second")}return e+" ms"}function plural(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}},8019:(e,t,r)=>{const{GitExecutor:n}=r(8159);const{SimpleGitApi:s}=r(440);const{Scheduler:o}=r(9281);const{GitLogger:i}=r(4814);const{configurationErrorTask:a}=r(9252);const{asArray:u,filterArray:c,filterPrimitives:l,filterString:f,filterStringOrStringArray:p,filterType:d,getTrailingOptions:h,trailingFunctionArgument:g,trailingOptionsArgument:m}=r(8718);const{applyPatchTask:y}=r(7998);const{branchTask:b,branchLocalTask:v,deleteBranchesTask:_,deleteBranchTask:T}=r(6211);const{checkIgnoreTask:k}=r(731);const{checkIsRepoTask:O}=r(4204);const{cloneTask:C,cloneMirrorTask:E}=r(8440);const{cleanWithOptionsTask:w,isCleanOptionsArray:R}=r(276);const{commitTask:P}=r(9978);const{diffSummaryTask:S}=r(2754);const{fetchTask:x}=r(7185);const{moveTask:M}=r(1591);const{pullTask:D}=r(1969);const{pushTagsTask:A}=r(7647);const{addRemoteTask:j,getRemotesTask:L,listRemotesTask:F,remoteTask:G,removeRemoteTask:I}=r(6317);const{getResetMode:N,resetTask:B}=r(9582);const{stashListTask:$}=r(4024);const{addSubModuleTask:q,initSubModuleTask:U,subModuleTask:H,updateSubModuleTask:z}=r(4764);const{addAnnotatedTagTask:W,addTagTask:V,tagListTask:Q}=r(774);const{straightThroughBufferTask:K,straightThroughStringTask:J}=r(9252);function Git(e,t){this._executor=new n(e.binary,e.baseDir,new o(e.maxConcurrentProcesses),t);this._logger=new i}(Git.prototype=Object.create(s.prototype)).constructor=Git;Git.prototype._logger=null;Git.prototype.customBinary=function(e){this._executor.binary=e;return this};Git.prototype.env=function(e,t){if(arguments.length===1&&typeof e==="object"){this._executor.env=e}else{(this._executor.env=this._executor.env||{})[e]=t}return this};Git.prototype.stashList=function(e){return this._runTask($(m(arguments)||{},c(e)&&e||[]),g(arguments))};function createCloneTask(e,t,r,n){if(typeof r!=="string"){return a(`git.${e}() requires a string 'repoPath'`)}return t(r,d(n,f),h(arguments))}Git.prototype.clone=function(){return this._runTask(createCloneTask("clone",C,...arguments),g(arguments))};Git.prototype.mirror=function(){return this._runTask(createCloneTask("mirror",E,...arguments),g(arguments))};Git.prototype.mv=function(e,t){return this._runTask(M(e,t),g(arguments))};Git.prototype.checkoutLatestTag=function(e){var t=this;return this.pull((function(){t.tags((function(r,n){t.checkout(n.latest,e)}))}))};Git.prototype.commit=function(e,t,r,n){const s=g(arguments);const o=[];if(p(e)){o.push(...u(e))}else{console.warn("simple-git deprecation notice: git.commit: requires the commit message to be supplied as a string/string[], this will be an error in version 3")}return this._runTask(P(o,u(d(t,p,[])),[...d(r,c,[]),...h(arguments,0,true)]),s)};Git.prototype.pull=function(e,t,r,n){return this._runTask(D(d(e,f),d(t,f),h(arguments)),g(arguments))};Git.prototype.fetch=function(e,t){return this._runTask(x(d(e,f),d(t,f),h(arguments)),g(arguments))};Git.prototype.silent=function(e){console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3");this._logger.silent(!!e);return this};Git.prototype.tags=function(e,t){return this._runTask(Q(h(arguments)),g(arguments))};Git.prototype.rebase=function(){return this._runTask(J(["rebase",...h(arguments)]),g(arguments))};Git.prototype.reset=function(e){return this._runTask(B(N(e),h(arguments)),g(arguments))};Git.prototype.revert=function(e){const t=g(arguments);if(typeof e!=="string"){return this._runTask(a("Commit must be a string"),t)}return this._runTask(J(["revert",...h(arguments,0,true),e]),t)};Git.prototype.addTag=function(e){const t=typeof e==="string"?V(e):a("Git.addTag requires a tag name");return this._runTask(t,g(arguments))};Git.prototype.addAnnotatedTag=function(e,t){return this._runTask(W(e,t),g(arguments))};Git.prototype.checkout=function(){const e=["checkout",...h(arguments,true)];return this._runTask(J(e),g(arguments))};Git.prototype.checkoutBranch=function(e,t,r){return this.checkout(["-b",e,t],g(arguments))};Git.prototype.checkoutLocalBranch=function(e,t){return this.checkout(["-b",e],g(arguments))};Git.prototype.deleteLocalBranch=function(e,t,r){return this._runTask(T(e,typeof t==="boolean"?t:false),g(arguments))};Git.prototype.deleteLocalBranches=function(e,t,r){return this._runTask(_(e,typeof t==="boolean"?t:false),g(arguments))};Git.prototype.branch=function(e,t){return this._runTask(b(h(arguments)),g(arguments))};Git.prototype.branchLocal=function(e){return this._runTask(v(),g(arguments))};Git.prototype.raw=function(e){const t=!Array.isArray(e);const r=[].slice.call(t?arguments:e,0);for(let e=0;e<r.length&&t;e++){if(!l(r[e])){r.splice(e,r.length-e);break}}r.push(...h(arguments,0,true));var n=g(arguments);if(!r.length){return this._runTask(a("Raw: must supply one or more command to execute"),n)}return this._runTask(J(r),n)};Git.prototype.submoduleAdd=function(e,t,r){return this._runTask(q(e,t),g(arguments))};Git.prototype.submoduleUpdate=function(e,t){return this._runTask(z(h(arguments,true)),g(arguments))};Git.prototype.submoduleInit=function(e,t){return this._runTask(U(h(arguments,true)),g(arguments))};Git.prototype.subModule=function(e,t){return this._runTask(H(h(arguments)),g(arguments))};Git.prototype.listRemote=function(){return this._runTask(F(h(arguments)),g(arguments))};Git.prototype.addRemote=function(e,t,r){return this._runTask(j(e,t,h(arguments)),g(arguments))};Git.prototype.removeRemote=function(e,t){return this._runTask(I(e),g(arguments))};Git.prototype.getRemotes=function(e,t){return this._runTask(L(e===true),g(arguments))};Git.prototype.remote=function(e,t){return this._runTask(G(h(arguments)),g(arguments))};Git.prototype.tag=function(e,t){const r=h(arguments);if(r[0]!=="tag"){r.unshift("tag")}return this._runTask(J(r),g(arguments))};Git.prototype.updateServerInfo=function(e){return this._runTask(J(["update-server-info"]),g(arguments))};Git.prototype.pushTags=function(e,t){const r=A({remote:d(e,f)},h(arguments));return this._runTask(r,g(arguments))};Git.prototype.rm=function(e){return this._runTask(J(["rm","-f",...u(e)]),g(arguments))};Git.prototype.rmKeepLocal=function(e){return this._runTask(J(["rm","--cached",...u(e)]),g(arguments))};Git.prototype.catFile=function(e,t){return this._catFile("utf-8",arguments)};Git.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)};Git.prototype._catFile=function(e,t){var r=g(t);var n=["cat-file"];var s=t[0];if(typeof s==="string"){return this._runTask(a("Git.catFile: options must be supplied as an array of strings"),r)}if(Array.isArray(s)){n.push.apply(n,s)}const o=e==="buffer"?K(n):J(n);return this._runTask(o,r)};Git.prototype.diff=function(e,t){const r=["diff",...h(arguments)];if(typeof e==="string"){r.splice(1,0,e);this._logger.warn("Git#diff: supplying options as a single string is now deprecated, switch to an array of strings")}return this._runTask(J(r),g(arguments))};Git.prototype.diffSummary=function(){return this._runTask(S(h(arguments,1)),g(arguments))};Git.prototype.applyPatch=function(e){const t=!p(e)?a(`git.applyPatch requires one or more string patches as the first argument`):y(u(e),h([].slice.call(arguments,1)));return this._runTask(t,g(arguments))};Git.prototype.revparse=function(){const e=["rev-parse",...h(arguments,true)];return this._runTask(J(e,true),g(arguments))};Git.prototype.show=function(e,t){return this._runTask(J(["show",...h(arguments,1)]),g(arguments))};Git.prototype.clean=function(e,t,r){const n=R(e);const s=n&&e.join("")||d(e,f)||"";const o=h([].slice.call(arguments,n?1:0));return this._runTask(w(s,o),g(arguments))};Git.prototype.exec=function(e){const t={commands:[],format:"utf-8",parser(){if(typeof e==="function"){e()}}};return this._runTask(t)};Git.prototype.clearQueue=function(){return this};Git.prototype.checkIgnore=function(e,t){return this._runTask(k(u(d(e,p,[]))),g(arguments))};Git.prototype.checkIsRepo=function(e,t){return this._runTask(O(d(e,f)),g(arguments))};e.exports=Git},1733:(e,t,r)=>{const{gitP:n}=r(4125);const{esModuleFactory:s,gitInstanceFactory:o,gitExportFactory:i}=r(2797);e.exports=s(i(o,{gitP:n}))},562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(7269);const s=r(4647);const o=r(8727);const i=r(3695);const a=r(3914);const u=r(4204);const c=r(276);const l=r(2235);const f=r(4636);const p=r(9582);const d={CheckRepoActions:u.CheckRepoActions,CleanOptions:c.CleanOptions,GitConfigScope:l.GitConfigScope,GitConstructError:n.GitConstructError,GitError:s.GitError,GitPluginError:o.GitPluginError,GitResponseError:i.GitResponseError,ResetMode:p.ResetMode,TaskConfigurationError:a.TaskConfigurationError,grepQueryBuilder:f.grepQueryBuilder};t["default"]=d},7269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitConstructError=void 0;const n=r(4647);class GitConstructError extends n.GitError{constructor(e,t){super(undefined,t);this.config=e}}t.GitConstructError=GitConstructError},4647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitError=void 0;class GitError extends Error{constructor(e,t){super(t);this.task=e;Object.setPrototypeOf(this,new.target.prototype)}}t.GitError=GitError},8727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitPluginError=void 0;const n=r(4647);class GitPluginError extends n.GitError{constructor(e,t,r){super(e,r);this.task=e;this.plugin=t;Object.setPrototypeOf(this,new.target.prototype)}}t.GitPluginError=GitPluginError},3695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitResponseError=void 0;const n=r(4647);class GitResponseError extends n.GitError{constructor(e,t){super(undefined,t||String(e));this.git=e}}t.GitResponseError=GitResponseError},3914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskConfigurationError=void 0;const n=r(4647);class TaskConfigurationError extends n.GitError{constructor(e){super(undefined,e)}}t.TaskConfigurationError=TaskConfigurationError},2797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.gitInstanceFactory=t.gitExportFactory=t.esModuleFactory=void 0;const n=r(562);const s=r(4630);const o=r(8718);const i=r(8019);function esModuleFactory(e){return Object.defineProperties(e,{__esModule:{value:true},default:{value:e}})}t.esModuleFactory=esModuleFactory;function gitExportFactory(e,t){return Object.assign((function(...t){return e.apply(null,t)}),n.default,t||{})}t.gitExportFactory=gitExportFactory;function gitInstanceFactory(e,t){const r=new s.PluginStore;const a=o.createInstanceConfig(e&&(typeof e==="string"?{baseDir:e}:e)||{},t);if(!o.folderExists(a.baseDir)){throw new n.default.GitConstructError(a,`Cannot use simple-git on a directory that does not exist`)}if(Array.isArray(a.config)){r.add(s.commandConfigPrefixingPlugin(a.config))}r.add(s.completionDetectionPlugin(a.completion));a.progress&&r.add(s.progressMonitorPlugin(a.progress));a.timeout&&r.add(s.timeoutPlugin(a.timeout));a.spawnOptions&&r.add(s.spawnOptionsPlugin(a.spawnOptions));r.add(s.errorDetectionPlugin(s.errorDetectionHandler(true)));a.errors&&r.add(s.errorDetectionPlugin(a.errors));return new i(a,r)}t.gitInstanceFactory=gitInstanceFactory},4814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitLogger=t.createLogger=void 0;const n=r(4896);const s=r(8718);n.default.formatters.L=e=>String(s.filterHasLength(e)?e.length:"-");n.default.formatters.B=e=>{if(Buffer.isBuffer(e)){return e.toString("utf8")}return s.objectToString(e)};function createLog(){return n.default("simple-git")}function prefixedLogger(e,t,r){if(!t||!String(t).replace(/\s*/,"")){return!r?e:(t,...n)=>{e(t,...n);r(t,...n)}}return(n,...s)=>{e(`%s ${n}`,t,...s);if(r){r(n,...s)}}}function childLoggerName(e,t,{namespace:r}){if(typeof e==="string"){return e}const n=t&&t.namespace||"";if(n.startsWith(r)){return n.substr(r.length+1)}return n||r}function createLogger(e,t,r,n=createLog()){const o=e&&`[${e}]`||"";const i=[];const a=typeof t==="string"?n.extend(t):t;const u=childLoggerName(s.filterType(t,s.filterString),a,n);return step(r);function sibling(t,r){return s.append(i,createLogger(e,u.replace(/^[^:]+/,t),r,n))}function step(t){const r=t&&`[${t}]`||"";const i=a&&prefixedLogger(a,r)||s.NOOP;const u=prefixedLogger(n,`${o} ${r}`,i);return Object.assign(a?i:u,{label:e,sibling:sibling,info:u,step:step})}}t.createLogger=createLogger;class GitLogger{constructor(e=createLog()){this._out=e;this.error=prefixedLogger(e,"[ERROR]");this.warn=prefixedLogger(e,"[WARN]")}silent(e=false){if(e!==this._out.enabled){return}const{namespace:t}=this._out;const r=(process.env.DEBUG||"").split(",").filter((e=>!!e));const o=r.includes(t);const i=r.includes(`-${t}`);if(!e){if(i){s.remove(r,`-${t}`)}else{r.push(t)}}else{if(o){s.remove(r,t)}else{r.push(`-${t}`)}}n.default.enable(r.join(","))}}t.GitLogger=GitLogger},8222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.hasBranchDeletionError=t.parseBranchDeletions=void 0;const n=r(1574);const s=r(8718);const o=/(\S+)\s+\(\S+\s([^)]+)\)/;const i=/^error[^']+'([^']+)'/m;const a=[new s.LineParser(o,((e,[t,r])=>{const s=n.branchDeletionSuccess(t,r);e.all.push(s);e.branches[t]=s})),new s.LineParser(i,((e,[t])=>{const r=n.branchDeletionFailure(t);e.errors.push(r);e.all.push(r);e.branches[t]=r}))];const parseBranchDeletions=(e,t)=>s.parseStringResponse(new n.BranchDeletionBatch,a,e,t);t.parseBranchDeletions=parseBranchDeletions;function hasBranchDeletionError(e,t){return t===s.ExitCodes.ERROR&&i.test(e)}t.hasBranchDeletionError=hasBranchDeletionError},7789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseBranchSummary=void 0;const n=r(1643);const s=r(8718);const o=[new s.LineParser(/^(\*\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,((e,[t,r,n,s])=>{e.push(!!t,true,r,n,s)})),new s.LineParser(/^(\*\s)?(\S+)\s+([a-z0-9]+)\s(.*)$/s,((e,[t,r,n,s])=>{e.push(!!t,false,r,n,s)}))];function parseBranchSummary(e){return s.parseStringResponse(new n.BranchSummaryResult,o,e)}t.parseBranchSummary=parseBranchSummary},6202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseCommitResult=void 0;const n=r(8718);const s=[new n.LineParser(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,((e,[t,r,n])=>{e.branch=t;e.commit=n;e.root=!!r})),new n.LineParser(/\s*Author:\s(.+)/i,((e,[t])=>{const r=t.split("<");const n=r.pop();if(!n||!n.includes("@")){return}e.author={email:n.substr(0,n.length-1),name:r.join("<").trim()}})),new n.LineParser(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0;e.summary.insertions=parseInt(r,10)||0;e.summary.deletions=parseInt(n,10)||0})),new n.LineParser(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0;const s=parseInt(r,10)||0;if(n==="-"){e.summary.deletions=s}else if(n==="+"){e.summary.insertions=s}}))];function parseCommitResult(e){const t={author:null,branch:"",commit:"",root:false,summary:{changes:0,insertions:0,deletions:0}};return n.parseStringResponse(t,s,e)}t.parseCommitResult=parseCommitResult},2845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseDiffResult=void 0;const n=r(2574);function parseDiffResult(e){const t=e.trim().split("\n");const r=new n.DiffSummary;readSummaryLine(r,t.pop());for(let e=0,n=t.length;e<n;e++){const n=t[e];textFileChange(n,r)||binaryFileChange(n,r)}return r}t.parseDiffResult=parseDiffResult;function readSummaryLine(e,t){(t||"").trim().split(", ").forEach((function(t){const r=/(\d+)\s([a-z]+)/.exec(t);if(!r){return}summaryType(e,r[2],parseInt(r[1],10))}))}function summaryType(e,t,r){const n=/([a-z]+?)s?\b/.exec(t);if(!n||!s[n[1]]){return}s[n[1]](e,r)}const s={file(e,t){e.changed=t},deletion(e,t){e.deletions=t},insertion(e,t){e.insertions=t}};function textFileChange(e,{files:t}){const r=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/);if(r){var n=(r[3]||"").trim();t.push({file:r[1].trim(),changes:parseInt(r[2],10),insertions:n.replace(/-/g,"").length,deletions:n.replace(/\+/g,"").length,binary:false});return true}return false}function binaryFileChange(e,{files:t}){const r=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/);if(r){t.push({file:r[1].trim(),before:+r[2],after:+r[3],binary:true});return true}return false}},9806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseFetchResult=void 0;const n=r(8718);const s=[new n.LineParser(/From (.+)$/,((e,[t])=>{e.remote=t})),new n.LineParser(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.branches.push({name:t,tracking:r})})),new n.LineParser(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.tags.push({name:t,tracking:r})}))];function parseFetchResult(e,t){const r={raw:e,remote:null,branches:[],tags:[]};return n.parseStringResponse(r,s,e,t)}t.parseFetchResult=parseFetchResult},4986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createListLogSummaryParser=t.SPLITTER=t.COMMIT_BOUNDARY=t.START_BOUNDARY=void 0;const n=r(8718);const s=r(2845);t.START_BOUNDARY="òòòòòò ";t.COMMIT_BOUNDARY=" òò";t.SPLITTER=" ò ";const o=["hash","date","message","refs","author_name","author_email"];function lineBuilder(e,t){return t.reduce(((t,r,n)=>{t[r]=e[n]||"";return t}),Object.create({diff:null}))}function createListLogSummaryParser(e=t.SPLITTER,r=o){return function(o){const i=n.toLinesWithContent(o,true,t.START_BOUNDARY).map((function(n){const o=n.trim().split(t.COMMIT_BOUNDARY);const i=lineBuilder(o[0].trim().split(e),r);if(o.length>1&&!!o[1].trim()){i.diff=s.parseDiffResult(o[1])}return i}));return{all:i,latest:i.length&&i[0]||null,total:i.length}}}t.createListLogSummaryParser=createListLogSummaryParser},3160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseMergeDetail=t.parseMergeResult=void 0;const n=r(1482);const s=r(8718);const o=r(9613);const i=[new s.LineParser(/^Auto-merging\s+(.+)$/,((e,[t])=>{e.merges.push(t)})),new s.LineParser(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,((e,[t,r])=>{e.conflicts.push(new n.MergeSummaryConflict(t,r))})),new s.LineParser(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,((e,[t,r,s])=>{e.conflicts.push(new n.MergeSummaryConflict(t,r,{deleteRef:s}))})),new s.LineParser(/^CONFLICT\s+\((.+)\):/,((e,[t])=>{e.conflicts.push(new n.MergeSummaryConflict(t,null))})),new s.LineParser(/^Automatic merge failed;\s+(.+)$/,((e,[t])=>{e.result=t}))];const parseMergeResult=(e,r)=>Object.assign(t.parseMergeDetail(e,r),o.parsePullResult(e,r));t.parseMergeResult=parseMergeResult;const parseMergeDetail=e=>s.parseStringResponse(new n.MergeSummaryDetail,i,e);t.parseMergeDetail=parseMergeDetail},3617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseMoveResult=void 0;const n=r(8718);const s=[new n.LineParser(/^Renaming (.+) to (.+)$/,((e,[t,r])=>{e.moves.push({from:t,to:r})}))];function parseMoveResult(e){return n.parseStringResponse({moves:[]},s,e)}t.parseMoveResult=parseMoveResult},9613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parsePullResult=t.parsePullDetail=void 0;const n=r(5322);const s=r(8718);const o=r(7870);const i=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/;const a=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/;const u=/^(create|delete) mode \d+ (.+)/;const c=[new s.LineParser(i,((e,[t,r,n])=>{e.files.push(t);if(r){e.insertions[t]=r.length}if(n){e.deletions[t]=n.length}})),new s.LineParser(a,((e,[t,,r,,n])=>{if(r!==undefined||n!==undefined){e.summary.changes=+t||0;e.summary.insertions=+r||0;e.summary.deletions=+n||0;return true}return false})),new s.LineParser(u,((e,[t,r])=>{s.append(e.files,r);s.append(t==="create"?e.created:e.deleted,r)}))];const parsePullDetail=(e,t)=>s.parseStringResponse(new n.PullSummary,c,e,t);t.parsePullDetail=parsePullDetail;const parsePullResult=(e,r)=>Object.assign(new n.PullSummary,t.parsePullDetail(e,r),o.parseRemoteMessages(e,r));t.parsePullResult=parsePullResult},9740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parsePushDetail=t.parsePushResult=void 0;const n=r(8718);const s=r(7870);function pushResultPushedItem(e,t,r){const n=r.includes("deleted");const s=r.includes("tag")||/^refs\/tags/.test(e);const o=!r.includes("new");return{deleted:n,tag:s,branch:!s,new:!o,alreadyUpdated:o,local:e,remote:t}}const o=[new n.LineParser(/^Pushing to (.+)$/,((e,[t])=>{e.repo=t})),new n.LineParser(/^updating local tracking ref '(.+)'/,((e,[t])=>{e.ref=Object.assign(Object.assign({},e.ref||{}),{local:t})})),new n.LineParser(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,((e,[t,r,n])=>{e.pushed.push(pushResultPushedItem(t,r,n))})),new n.LineParser(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,((e,[t,r,n])=>{e.branch=Object.assign(Object.assign({},e.branch||{}),{local:t,remote:r,remoteName:n})})),new n.LineParser(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,((e,[t,r,n,s])=>{e.update={head:{local:t,remote:r},hash:{from:n,to:s}}}))];const parsePushResult=(e,r)=>{const n=t.parsePushDetail(e,r);const o=s.parseRemoteMessages(e,r);return Object.assign(Object.assign({},n),o)};t.parsePushResult=parsePushResult;const parsePushDetail=(e,t)=>n.parseStringResponse({pushed:[]},o,e,t);t.parsePushDetail=parsePushDetail},7870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RemoteMessageSummary=t.parseRemoteMessages=void 0;const n=r(8718);const s=r(9490);const o=[new n.RemoteLineParser(/^remote:\s*(.+)$/,((e,[t])=>{e.remoteMessages.all.push(t.trim());return false})),...s.remoteMessagesObjectParsers,new n.RemoteLineParser([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],((e,[t])=>{e.remoteMessages.pullRequestUrl=t})),new n.RemoteLineParser([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],((e,[t,r,s])=>{e.remoteMessages.vulnerabilities={count:n.asNumber(t),summary:r,url:s}}))];function parseRemoteMessages(e,t){return n.parseStringResponse({remoteMessages:new RemoteMessageSummary},o,t)}t.parseRemoteMessages=parseRemoteMessages;class RemoteMessageSummary{constructor(){this.all=[]}}t.RemoteMessageSummary=RemoteMessageSummary},9490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.remoteMessagesObjectParsers=void 0;const n=r(8718);function objectEnumerationResult(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function asObjectCount(e){const t=/^\s*(\d+)/.exec(e);const r=/delta (\d+)/i.exec(e);return{count:n.asNumber(t&&t[1]||"0"),delta:n.asNumber(r&&r[1]||"0")}}t.remoteMessagesObjectParsers=[new n.RemoteLineParser(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,((e,[t,r])=>{const s=t.toLowerCase();const o=objectEnumerationResult(e.remoteMessages);Object.assign(o,{[s]:n.asNumber(r)})})),new n.RemoteLineParser(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,((e,[t,r])=>{const s=t.toLowerCase();const o=objectEnumerationResult(e.remoteMessages);Object.assign(o,{[s]:n.asNumber(r)})})),new n.RemoteLineParser(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,((e,[t,r,s])=>{const o=objectEnumerationResult(e.remoteMessages);o.total=asObjectCount(t);o.reused=asObjectCount(r);o.packReused=n.asNumber(s)}))]},7414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.commandConfigPrefixingPlugin=void 0;const n=r(8718);function commandConfigPrefixingPlugin(e){const t=n.prefixedArray(e,"-c");return{type:"spawn.args",action(e){return[...t,...e]}}}t.commandConfigPrefixingPlugin=commandConfigPrefixingPlugin},9650:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.completionDetectionPlugin=void 0;const s=r(3965);const o=r(8718);const i=s.default().promise;function completionDetectionPlugin({onClose:e=true,onExit:t=50}={}){function createEvents(){let r=-1;const n={close:s.default(),closeTimeout:s.default(),exit:s.default(),exitTimeout:s.default()};const o=Promise.race([e===false?i:n.closeTimeout.promise,t===false?i:n.exitTimeout.promise]);configureTimeout(e,n.close,n.closeTimeout);configureTimeout(t,n.exit,n.exitTimeout);return{close(e){r=e;n.close.done()},exit(e){r=e;n.exit.done()},get exitCode(){return r},result:o}}function configureTimeout(e,t,r){if(e===false){return}(e===true?t.promise:t.promise.then((()=>o.delay(e)))).then(r.done)}return{type:"spawn.after",action(e,{spawned:t,close:r}){var s,i;return n(this,void 0,void 0,(function*(){const e=createEvents();let n=true;let quickClose=()=>void(n=false);(s=t.stdout)===null||s===void 0?void 0:s.on("data",quickClose);(i=t.stderr)===null||i===void 0?void 0:i.on("data",quickClose);t.on("error",quickClose);t.on("close",(t=>e.close(t)));t.on("exit",(t=>e.exit(t)));try{yield e.result;if(n){yield o.delay(50)}r(e.exitCode)}catch(t){r(e.exitCode,t)}}))}}}t.completionDetectionPlugin=completionDetectionPlugin},2080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.errorDetectionPlugin=t.errorDetectionHandler=void 0;const n=r(4647);function isTaskError(e){return!!(e.exitCode&&e.stdErr.length)}function getErrorMessage(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function errorDetectionHandler(e=false,t=isTaskError,r=getErrorMessage){return(n,s)=>{if(!e&&n||!t(s)){return n}return r(s)}}t.errorDetectionHandler=errorDetectionHandler;function errorDetectionPlugin(e){return{type:"task.error",action(t,r){const s=e(t.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});if(Buffer.isBuffer(s)){return{error:new n.GitError(undefined,s.toString("utf-8"))}}return{error:s}}}}t.errorDetectionPlugin=errorDetectionPlugin},4630:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r(7414),t);s(r(9650),t);s(r(2080),t);s(r(1633),t);s(r(3055),t);s(r(8114),t);s(r(2675),t);s(r(8200),t)},1633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PluginStore=void 0;const n=r(8718);class PluginStore{constructor(){this.plugins=new Set}add(e){const t=[];n.asArray(e).forEach((e=>e&&this.plugins.add(n.append(t,e))));return()=>{t.forEach((e=>this.plugins.delete(e)))}}exec(e,t,r){let n=t;const s=Object.freeze(Object.create(r));for(const t of this.plugins){if(t.type===e){n=t.action(n,s)}}return n}}t.PluginStore=PluginStore},3055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.progressMonitorPlugin=void 0;const n=r(8718);function progressMonitorPlugin(e){const t="--progress";const r=["checkout","clone","fetch","pull","push"];const s={type:"spawn.after",action(r,s){var o;if(!s.commands.includes(t)){return}(o=s.spawned.stderr)===null||o===void 0?void 0:o.on("data",(t=>{const r=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(t.toString("utf8"));if(!r){return}e({method:s.method,stage:progressEventStage(r[1]),progress:n.asNumber(r[2]),processed:n.asNumber(r[3]),total:n.asNumber(r[4])})}))}};const o={type:"spawn.args",action(e,s){if(!r.includes(s.method)){return e}return n.including(e,t)}};return[o,s]}t.progressMonitorPlugin=progressMonitorPlugin;function progressEventStage(e){return String(e.toLowerCase().split(" ",1))||"unknown"}},8114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},2675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.spawnOptionsPlugin=void 0;const n=r(8718);function spawnOptionsPlugin(e){const t=n.pick(e,["uid","gid"]);return{type:"spawn.options",action(e){return Object.assign(Object.assign({},t),e)}}}t.spawnOptionsPlugin=spawnOptionsPlugin},8200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.timeoutPlugin=void 0;const n=r(8727);function timeoutPlugin({block:e}){if(e>0){return{type:"spawn.after",action(t,r){var s,o;let i;function wait(){i&&clearTimeout(i);i=setTimeout(kill,e)}function stop(){var e,t;(e=r.spawned.stdout)===null||e===void 0?void 0:e.off("data",wait);(t=r.spawned.stderr)===null||t===void 0?void 0:t.off("data",wait);r.spawned.off("exit",stop);r.spawned.off("close",stop)}function kill(){stop();r.kill(new n.GitPluginError(undefined,"timeout",`block timeout reached`))}(s=r.spawned.stdout)===null||s===void 0?void 0:s.on("data",wait);(o=r.spawned.stderr)===null||o===void 0?void 0:o.on("data",wait);r.spawned.on("exit",stop);r.spawned.on("close",stop);wait()}}}}t.timeoutPlugin=timeoutPlugin},1574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isSingleBranchDeleteFailure=t.branchDeletionFailure=t.branchDeletionSuccess=t.BranchDeletionBatch=void 0;class BranchDeletionBatch{constructor(){this.all=[];this.branches={};this.errors=[]}get success(){return!this.errors.length}}t.BranchDeletionBatch=BranchDeletionBatch;function branchDeletionSuccess(e,t){return{branch:e,hash:t,success:true}}t.branchDeletionSuccess=branchDeletionSuccess;function branchDeletionFailure(e){return{branch:e,hash:null,success:false}}t.branchDeletionFailure=branchDeletionFailure;function isSingleBranchDeleteFailure(e){return e.success}t.isSingleBranchDeleteFailure=isSingleBranchDeleteFailure},1643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BranchSummaryResult=void 0;class BranchSummaryResult{constructor(){this.all=[];this.branches={};this.current="";this.detached=false}push(e,t,r,n,s){if(e){this.detached=t;this.current=r}this.all.push(r);this.branches[r]={current:e,name:r,commit:n,label:s}}}t.BranchSummaryResult=BranchSummaryResult},8600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseCheckIgnore=void 0;const parseCheckIgnore=e=>e.split(/\n/g).map((e=>e.trim())).filter((e=>!!e));t.parseCheckIgnore=parseCheckIgnore},5389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.cleanSummaryParser=t.CleanResponse=void 0;const n=r(8718);class CleanResponse{constructor(e){this.dryRun=e;this.paths=[];this.files=[];this.folders=[]}}t.CleanResponse=CleanResponse;const s=/^[a-z]+\s*/i;const o=/^[a-z]+\s+[a-z]+\s*/i;const i=/\/$/;function cleanSummaryParser(e,t){const r=new CleanResponse(e);const a=e?o:s;n.toLinesWithContent(t).forEach((e=>{const t=e.replace(a,"");r.paths.push(t);(i.test(t)?r.folders:r.files).push(t)}));return r}t.cleanSummaryParser=cleanSummaryParser},9761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configGetParser=t.configListParser=t.ConfigList=void 0;const n=r(8718);class ConfigList{constructor(){this.files=[];this.values=Object.create(null)}get all(){if(!this._all){this._all=this.files.reduce(((e,t)=>Object.assign(e,this.values[t])),{})}return this._all}addFile(e){if(!(e in this.values)){const t=n.last(this.files);this.values[e]=t?Object.create(this.values[t]):{};this.files.push(e)}return this.values[e]}addValue(e,t,r){const n=this.addFile(e);if(!n.hasOwnProperty(t)){n[t]=r}else if(Array.isArray(n[t])){n[t].push(r)}else{n[t]=[n[t],r]}this._all=undefined}}t.ConfigList=ConfigList;function configListParser(e){const t=new ConfigList;for(const r of configParser(e)){t.addValue(r.file,String(r.key),r.value)}return t}t.configListParser=configListParser;function configGetParser(e,t){let r=null;const n=[];const s=new Map;for(const o of configParser(e,t)){if(o.key!==t){continue}n.push(r=o.value);if(!s.has(o.file)){s.set(o.file,[])}s.get(o.file).push(r)}return{key:t,paths:Array.from(s.keys()),scopes:s,value:r,values:n}}t.configGetParser=configGetParser;function configFilePath(e){return e.replace(/^(file):/,"")}function*configParser(e,t=null){const r=e.split("\0");for(let e=0,s=r.length-1;e<s;){const s=configFilePath(r[e++]);let o=r[e++];let i=t;if(o.includes("\n")){const e=n.splitOn(o,"\n");i=e[0];o=e[1]}yield{file:s,key:i,value:o}}}},2574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DiffSummary=void 0;class DiffSummary{constructor(){this.changed=0;this.deletions=0;this.insertions=0;this.files=[]}}t.DiffSummary=DiffSummary},252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FileStatusSummary=t.fromPathRegex=void 0;t.fromPathRegex=/^(.+) -> (.+)$/;class FileStatusSummary{constructor(e,r,n){this.path=e;this.index=r;this.working_dir=n;if("R"===r+n){const r=t.fromPathRegex.exec(e)||[null,e,e];this.from=r[1]||"";this.path=r[2]||""}}}t.FileStatusSummary=FileStatusSummary},3568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseGetRemotesVerbose=t.parseGetRemotes=void 0;const n=r(8718);function parseGetRemotes(e){const t={};forEach(e,(([e])=>t[e]={name:e}));return Object.values(t)}t.parseGetRemotes=parseGetRemotes;function parseGetRemotesVerbose(e){const t={};forEach(e,(([e,r,n])=>{if(!t.hasOwnProperty(e)){t[e]={name:e,refs:{fetch:"",push:""}}}if(n&&r){t[e].refs[n.replace(/[^a-z]/g,"")]=r}}));return Object.values(t)}t.parseGetRemotesVerbose=parseGetRemotesVerbose;function forEach(e,t){n.forEachLineWithContent(e,(e=>t(e.split(/\s+/))))}},973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseInit=t.InitSummary=void 0;class InitSummary{constructor(e,t,r,n){this.bare=e;this.path=t;this.existing=r;this.gitDir=n}}t.InitSummary=InitSummary;const r=/^Init.+ repository in (.+)$/;const n=/^Rein.+ in (.+)$/;function parseInit(e,t,s){const o=String(s).trim();let i;if(i=r.exec(o)){return new InitSummary(e,t,false,i[1])}if(i=n.exec(o)){return new InitSummary(e,t,true,i[1])}let a="";const u=o.split(" ");while(u.length){const e=u.shift();if(e==="in"){a=u.join(" ");break}}return new InitSummary(e,t,/^re/i.test(o),a)}t.parseInit=parseInit},1482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MergeSummaryDetail=t.MergeSummaryConflict=void 0;class MergeSummaryConflict{constructor(e,t=null,r){this.reason=e;this.file=t;this.meta=r}toString(){return`${this.file}:${this.reason}`}}t.MergeSummaryConflict=MergeSummaryConflict;class MergeSummaryDetail{constructor(){this.conflicts=[];this.merges=[];this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){if(this.conflicts.length){return`CONFLICTS: ${this.conflicts.join(", ")}`}return"OK"}}t.MergeSummaryDetail=MergeSummaryDetail},5322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PullSummary=void 0;class PullSummary{constructor(){this.remoteMessages={all:[]};this.created=[];this.deleted=[];this.files=[];this.deletions={};this.insertions={};this.summary={changes:0,deletions:0,insertions:0}}}t.PullSummary=PullSummary},746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseStatusSummary=t.StatusSummary=void 0;const n=r(8718);const s=r(252);class StatusSummary{constructor(){this.not_added=[];this.conflicted=[];this.created=[];this.deleted=[];this.modified=[];this.renamed=[];this.files=[];this.staged=[];this.ahead=0;this.behind=0;this.current=null;this.tracking=null;this.detached=false}isClean(){return!this.files.length}}t.StatusSummary=StatusSummary;var o;(function(e){e["ADDED"]="A";e["DELETED"]="D";e["MODIFIED"]="M";e["RENAMED"]="R";e["COPIED"]="C";e["UNMERGED"]="U";e["UNTRACKED"]="?";e["IGNORED"]="!";e["NONE"]=" "})(o||(o={}));function renamedFile(e){const t=/^(.+) -> (.+)$/.exec(e);if(!t){return{from:e,to:e}}return{from:String(t[1]),to:String(t[2])}}function parser(e,t,r){return[`${e}${t}`,r]}function conflicts(e,...t){return t.map((t=>parser(e,t,((e,t)=>n.append(e.conflicted,t)))))}const i=new Map([parser(o.NONE,o.ADDED,((e,t)=>n.append(e.created,t))),parser(o.NONE,o.DELETED,((e,t)=>n.append(e.deleted,t))),parser(o.NONE,o.MODIFIED,((e,t)=>n.append(e.modified,t))),parser(o.ADDED,o.NONE,((e,t)=>n.append(e.created,t)&&n.append(e.staged,t))),parser(o.ADDED,o.MODIFIED,((e,t)=>n.append(e.created,t)&&n.append(e.staged,t)&&n.append(e.modified,t))),parser(o.DELETED,o.NONE,((e,t)=>n.append(e.deleted,t)&&n.append(e.staged,t))),parser(o.MODIFIED,o.NONE,((e,t)=>n.append(e.modified,t)&&n.append(e.staged,t))),parser(o.MODIFIED,o.MODIFIED,((e,t)=>n.append(e.modified,t)&&n.append(e.staged,t))),parser(o.RENAMED,o.NONE,((e,t)=>{n.append(e.renamed,renamedFile(t))})),parser(o.RENAMED,o.MODIFIED,((e,t)=>{const r=renamedFile(t);n.append(e.renamed,r);n.append(e.modified,r.to)})),parser(o.UNTRACKED,o.UNTRACKED,((e,t)=>n.append(e.not_added,t))),...conflicts(o.ADDED,o.ADDED,o.UNMERGED),...conflicts(o.DELETED,o.DELETED,o.UNMERGED),...conflicts(o.UNMERGED,o.ADDED,o.DELETED,o.UNMERGED),["##",(e,t)=>{const r=/ahead (\d+)/;const n=/behind (\d+)/;const s=/^(.+?(?=(?:\.{3}|\s|$)))/;const o=/\.{3}(\S*)/;const i=/\son\s([\S]+)$/;let a;a=r.exec(t);e.ahead=a&&+a[1]||0;a=n.exec(t);e.behind=a&&+a[1]||0;a=s.exec(t);e.current=a&&a[1];a=o.exec(t);e.tracking=a&&a[1];a=i.exec(t);e.current=a&&a[1]||e.current;e.detached=/\(no branch\)/.test(t)}]]);const parseStatusSummary=function(e){const t=e.trim().split("\n");const r=new StatusSummary;for(let e=0,n=t.length;e<n;e++){splitLine(r,t[e])}return r};t.parseStatusSummary=parseStatusSummary;function splitLine(e,t){const r=t.trim();switch(" "){case r.charAt(2):return data(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return data(o.NONE,r.charAt(0),r.substr(2));default:return}function data(t,r,n){const o=`${t}${r}`;const a=i.get(o);if(a){a(e,n)}if(o!=="##"){e.files.push(new s.FileStatusSummary(n,t,r))}}}},5966:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseTagList=t.TagList=void 0;class TagList{constructor(e,t){this.all=e;this.latest=t}}t.TagList=TagList;const parseTagList=function(e,t=false){const r=e.split("\n").map(trimmed).filter(Boolean);if(!t){r.sort((function(e,t){const r=e.split(".");const n=t.split(".");if(r.length===1||n.length===1){return singleSorted(toNumber(r[0]),toNumber(n[0]))}for(let e=0,t=Math.max(r.length,n.length);e<t;e++){const t=sorted(toNumber(r[e]),toNumber(n[e]));if(t){return t}}return 0}))}const n=t?r[0]:[...r].reverse().find((e=>e.indexOf(".")>=0));return new TagList(r,n)};t.parseTagList=parseTagList;function singleSorted(e,t){const r=isNaN(e);const n=isNaN(t);if(r!==n){return r?1:-1}return r?sorted(e,t):0}function sorted(e,t){return e===t?0:e>t?1:-1}function trimmed(e){return e.trim()}function toNumber(e){if(typeof e==="string"){return parseInt(e.replace(/^\D+/g,""),10)||0}return 0}},9270:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.GitExecutorChain=void 0;const s=r(2081);const o=r(4647);const i=r(9252);const a=r(8718);const u=r(8618);class GitExecutorChain{constructor(e,t,r){this._executor=e;this._scheduler=t;this._plugins=r;this._chain=Promise.resolve();this._queue=new u.TasksPendingQueue}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){this._queue.push(e);return this._chain=this._chain.then((()=>this.attemptTask(e)))}attemptTask(e){return n(this,void 0,void 0,(function*(){const t=yield this._scheduler.next();const onQueueComplete=()=>this._queue.complete(e);try{const{logger:r}=this._queue.attempt(e);return yield i.isEmptyTask(e)?this.attemptEmptyTask(e,r):this.attemptRemoteTask(e,r)}catch(t){throw this.onFatalException(e,t)}finally{onQueueComplete();t()}}))}onFatalException(e,t){const r=t instanceof o.GitError?Object.assign(t,{task:e}):new o.GitError(e,t&&String(t));this._chain=Promise.resolve();this._queue.fatal(r);return r}attemptRemoteTask(e,t){return n(this,void 0,void 0,(function*(){const r=this._plugins.exec("spawn.args",[...e.commands],pluginContext(e,e.commands));const n=yield this.gitResponse(e,this.binary,r,this.outputHandler,t.step("SPAWN"));const s=yield this.handleTaskData(e,r,n,t.step("HANDLE"));t(`passing response to task's parser as a %s`,e.format);if(i.isBufferTask(e)){return a.callTaskParser(e.parser,s)}return a.callTaskParser(e.parser,s.asStrings())}))}attemptEmptyTask(e,t){return n(this,void 0,void 0,(function*(){t(`empty task bypassing child process to call to task's parser`);return e.parser(this)}))}handleTaskData(e,t,r,n){const{exitCode:s,rejection:o,stdOut:i,stdErr:u}=r;return new Promise(((c,l)=>{n(`Preparing to handle process response exitCode=%d stdOut=`,s);const{error:f}=this._plugins.exec("task.error",{error:o},Object.assign(Object.assign({},pluginContext(e,t)),r));if(f&&e.onError){n.info(`exitCode=%s handling with custom error handler`);return e.onError(r,f,(e=>{n.info(`custom error handler treated as success`);n(`custom error returned a %s`,a.objectToString(e));c(new a.GitOutputStreams(Array.isArray(e)?Buffer.concat(e):e,Buffer.concat(u)))}),l)}if(f){n.info(`handling as error: exitCode=%s stdErr=%s rejection=%o`,s,u.length,o);return l(f)}n.info(`retrieving task output complete`);c(new a.GitOutputStreams(Buffer.concat(i),Buffer.concat(u)))}))}gitResponse(e,t,r,o,i){return n(this,void 0,void 0,(function*(){const n=i.sibling("output");const a=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:true},pluginContext(e,e.commands));return new Promise((u=>{const c=[];const l=[];let f;i.info(`%s %o`,t,r);i("%O",a);const p=s.spawn(t,r,a);p.stdout.on("data",onDataReceived(c,"stdOut",i,n.step("stdOut")));p.stderr.on("data",onDataReceived(l,"stdErr",i,n.step("stdErr")));p.on("error",onErrorReceived(l,i));if(o){i(`Passing child process stdOut/stdErr to custom outputHandler`);o(t,p.stdout,p.stderr,[...r])}this._plugins.exec("spawn.after",undefined,Object.assign(Object.assign({},pluginContext(e,r)),{spawned:p,close(e,t){u({stdOut:c,stdErr:l,exitCode:e,rejection:f||t})},kill(e){if(p.killed){return}f=e;p.kill("SIGINT")}}))}))}))}}t.GitExecutorChain=GitExecutorChain;function pluginContext(e,t){return{method:a.first(e.commands)||"",commands:t}}function onErrorReceived(e,t){return r=>{t(`[ERROR] child process exception %o`,r);e.push(Buffer.from(String(r.stack),"ascii"))}}function onDataReceived(e,t,r,n){return s=>{r(`%s received %L bytes`,t,s);n(`%B`,s);e.push(s)}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitExecutor=void 0;const n=r(9270);class GitExecutor{constructor(e="git",t,r,s){this.binary=e;this.cwd=t;this._scheduler=r;this._plugins=s;this._chain=new n.GitExecutorChain(this,this._scheduler,this._plugins)}chain(){return new n.GitExecutorChain(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}t.GitExecutor=GitExecutor},4125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.gitP=void 0;const n=r(3695);const s=r(2797);const o=["customBinary","env","outputHandler","silent"];const i=["add","addAnnotatedTag","addConfig","addRemote","addTag","applyPatch","binaryCatFile","branch","branchLocal","catFile","checkIgnore","checkIsRepo","checkout","checkoutBranch","checkoutLatestTag","checkoutLocalBranch","clean","clone","commit","cwd","deleteLocalBranch","deleteLocalBranches","diff","diffSummary","exec","fetch","getRemotes","init","listConfig","listRemote","log","merge","mergeFromTo","mirror","mv","pull","push","pushTags","raw","rebase","remote","removeRemote","reset","revert","revparse","rm","rmKeepLocal","show","stash","stashList","status","subModule","submoduleAdd","submoduleInit","submoduleUpdate","tag","tags","updateServerInfo"];function gitP(...e){let t;let r=Promise.resolve();try{t=s.gitInstanceFactory(...e)}catch(e){r=Promise.reject(e)}function builderReturn(){return n}function chainReturn(){return r}const n=[...o,...i].reduce(((e,r)=>{const n=i.includes(r);const s=n?asyncWrapper(r,t):syncWrapper(r,t,e);const o=n?chainReturn:builderReturn;Object.defineProperty(e,r,{enumerable:false,configurable:false,value:t?s:o});return e}),{});return n;function asyncWrapper(e,t){return function(...n){if(typeof n[n.length]==="function"){throw new TypeError("Promise interface requires that handlers are not supplied inline, "+"trailing function not allowed in call to "+e)}return r.then((function(){return new Promise((function(r,s){const callback=(e,t)=>{if(e){return s(toError(e))}r(t)};n.push(callback);t[e].apply(t,n)}))}))}}function syncWrapper(e,t,r){return(...n)=>{t[e](...n);return r}}}t.gitP=gitP;function toError(e){if(e instanceof Error){return e}if(typeof e==="string"){return new Error(e)}return new n.GitResponseError(e)}},9281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Scheduler=void 0;const n=r(8718);const s=r(3965);const o=r(4814);const i=(()=>{let e=0;return()=>{e++;const{promise:t,done:r}=s.createDeferred();return{promise:t,done:r,id:e}}})();class Scheduler{constructor(e=2){this.concurrency=e;this.logger=o.createLogger("","scheduler");this.pending=[];this.running=[];this.logger(`Constructed, concurrency=%s`,e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger(`Schedule attempt ignored, pending=%s running=%s concurrency=%s`,this.pending.length,this.running.length,this.concurrency);return}const e=n.append(this.running,this.pending.shift());this.logger(`Attempting id=%s`,e.id);e.done((()=>{this.logger(`Completing id=`,e.id);n.remove(this.running,e);this.schedule()}))}next(){const{promise:e,id:t}=n.append(this.pending,i());this.logger(`Scheduling id=%s`,t);this.schedule();return e}}t.Scheduler=Scheduler},8618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TasksPendingQueue=void 0;const n=r(4647);const s=r(4814);class TasksPendingQueue{constructor(e="GitExecutor"){this.logLabel=e;this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){const t=TasksPendingQueue.getName(e.commands[0]);const r=s.createLogger(this.logLabel,t);return{task:e,logger:r,name:t}}push(e){const t=this.createProgress(e);t.logger("Adding task to the queue, commands = %o",e.commands);this._queue.set(e,t);return t}fatal(e){for(const[t,{logger:r}]of Array.from(this._queue.entries())){if(t===e.task){r.info(`Failed %o`,e);r(`Fatal exception, any as-yet un-started tasks run through this executor will not be attempted`)}else{r.info(`A fatal exception occurred in a previous task, the queue has been purged: %o`,e.message)}this.complete(t)}if(this._queue.size!==0){throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}}complete(e){const t=this.withProgress(e);if(t){this._queue.delete(e)}}attempt(e){const t=this.withProgress(e);if(!t){throw new n.GitError(undefined,"TasksPendingQueue: attempt called for an unknown task")}t.logger("Starting task");return t}static getName(e="empty"){return`task:${e}:${++TasksPendingQueue.counter}`}}t.TasksPendingQueue=TasksPendingQueue;TasksPendingQueue.counter=0},440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SimpleGitApi=void 0;const n=r(311);const s=r(3387);const o=r(2235);const i=r(4636);const a=r(22);const u=r(6943);const c=r(8198);const l=r(8763);const f=r(7647);const p=r(4930);const d=r(9252);const h=r(8718);class SimpleGitApi{constructor(e){this._executor=e}_runTask(e,t){const r=this._executor.chain();const s=r.push(e);if(t){n.taskCallback(e,s,t)}return Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:r}})}add(e){return this._runTask(d.straightThroughStringTask(["add",...h.asArray(e)]),h.trailingFunctionArgument(arguments))}cwd(e){const t=h.trailingFunctionArgument(arguments);if(typeof e==="string"){return this._runTask(s.changeWorkingDirectoryTask(e,this._executor),t)}if(typeof(e===null||e===void 0?void 0:e.path)==="string"){return this._runTask(s.changeWorkingDirectoryTask(e.path,e.root&&this._executor||undefined),t)}return this._runTask(d.configurationErrorTask("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(a.hashObjectTask(e,t===true),h.trailingFunctionArgument(arguments))}init(e){return this._runTask(u.initTask(e===true,this._executor.cwd,h.getTrailingOptions(arguments)),h.trailingFunctionArgument(arguments))}merge(){return this._runTask(l.mergeTask(h.getTrailingOptions(arguments)),h.trailingFunctionArgument(arguments))}mergeFromTo(e,t){if(!(h.filterString(e)&&h.filterString(t))){return this._runTask(d.configurationErrorTask(`Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings`))}return this._runTask(l.mergeTask([e,t,...h.getTrailingOptions(arguments)]),h.trailingFunctionArgument(arguments,false))}outputHandler(e){this._executor.outputHandler=e;return this}push(){const e=f.pushTask({remote:h.filterType(arguments[0],h.filterString),branch:h.filterType(arguments[1],h.filterString)},h.getTrailingOptions(arguments));return this._runTask(e,h.trailingFunctionArgument(arguments))}stash(){return this._runTask(d.straightThroughStringTask(["stash",...h.getTrailingOptions(arguments)]),h.trailingFunctionArgument(arguments))}status(){return this._runTask(p.statusTask(h.getTrailingOptions(arguments)),h.trailingFunctionArgument(arguments))}}t.SimpleGitApi=SimpleGitApi;Object.assign(SimpleGitApi.prototype,o.default(),i.default(),c.default())},311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.taskCallback=void 0;const n=r(3695);const s=r(8718);function taskCallback(e,t,r=s.NOOP){const onSuccess=e=>{r(null,e)};const onError=t=>{if((t===null||t===void 0?void 0:t.task)===e){r(t instanceof n.GitResponseError?addDeprecationNoticeToError(t):t,undefined)}};t.then(onSuccess,onError)}t.taskCallback=taskCallback;function addDeprecationNoticeToError(e){let log=e=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${e} should be GitResponseError.git.${e}, this will no longer be available in version 3`);log=s.NOOP};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(descriptorReducer,{}));function descriptorReducer(t,r){if(r in e){return t}t[r]={enumerable:false,configurable:false,get(){log(r);return e.git[r]}};return t}}},7998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.applyPatchTask=void 0;const n=r(9252);function applyPatchTask(e,t){return n.straightThroughStringTask(["apply",...t,...e])}t.applyPatchTask=applyPatchTask},6211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deleteBranchTask=t.deleteBranchesTask=t.branchLocalTask=t.branchTask=t.containsDeleteBranchCommand=void 0;const n=r(3695);const s=r(8222);const o=r(7789);const i=r(8718);function containsDeleteBranchCommand(e){const t=["-d","-D","--delete"];return e.some((e=>t.includes(e)))}t.containsDeleteBranchCommand=containsDeleteBranchCommand;function branchTask(e){const t=containsDeleteBranchCommand(e);const r=["branch",...e];if(r.length===1){r.push("-a")}if(!r.includes("-v")){r.splice(1,0,"-v")}return{format:"utf-8",commands:r,parser(e,r){if(t){return s.parseBranchDeletions(e,r).all[0]}return o.parseBranchSummary(e)}}}t.branchTask=branchTask;function branchLocalTask(){const e=o.parseBranchSummary;return{format:"utf-8",commands:["branch","-v"],parser:e}}t.branchLocalTask=branchLocalTask;function deleteBranchesTask(e,t=false){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(e,t){return s.parseBranchDeletions(e,t)},onError({exitCode:e,stdOut:t},r,n,o){if(!s.hasBranchDeletionError(String(r),e)){return o(r)}n(t)}}}t.deleteBranchesTask=deleteBranchesTask;function deleteBranchTask(e,t=false){const r={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(t,r){return s.parseBranchDeletions(t,r).branches[e]},onError({exitCode:e,stdErr:t,stdOut:o},a,u,c){if(!s.hasBranchDeletionError(String(a),e)){return c(a)}throw new n.GitResponseError(r.parser(i.bufferToString(o),i.bufferToString(t)),String(a))}};return r}t.deleteBranchTask=deleteBranchTask},3387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.changeWorkingDirectoryTask=void 0;const n=r(8718);const s=r(9252);function changeWorkingDirectoryTask(e,t){return s.adhocExecTask((r=>{if(!n.folderExists(e)){throw new Error(`Git.cwd: cannot change to non-directory "${e}"`)}return(t||r).cwd=e}))}t.changeWorkingDirectoryTask=changeWorkingDirectoryTask},731:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkIgnoreTask=void 0;const n=r(8600);function checkIgnoreTask(e){return{commands:["check-ignore",...e],format:"utf-8",parser:n.parseCheckIgnore}}t.checkIgnoreTask=checkIgnoreTask},4204:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkIsBareRepoTask=t.checkIsRepoRootTask=t.checkIsRepoTask=t.CheckRepoActions=void 0;const n=r(8718);var s;(function(e){e["BARE"]="bare";e["IN_TREE"]="tree";e["IS_REPO_ROOT"]="root"})(s=t.CheckRepoActions||(t.CheckRepoActions={}));const onError=({exitCode:e},t,r,s)=>{if(e===n.ExitCodes.UNCLEAN&&isNotRepoMessage(t)){return r(Buffer.from("false"))}s(t)};const parser=e=>e.trim()==="true";function checkIsRepoTask(e){switch(e){case s.BARE:return checkIsBareRepoTask();case s.IS_REPO_ROOT:return checkIsRepoRootTask()}const t=["rev-parse","--is-inside-work-tree"];return{commands:t,format:"utf-8",onError:onError,parser:parser}}t.checkIsRepoTask=checkIsRepoTask;function checkIsRepoRootTask(){const e=["rev-parse","--git-dir"];return{commands:e,format:"utf-8",onError:onError,parser(e){return/^\.(git)?$/.test(e.trim())}}}t.checkIsRepoRootTask=checkIsRepoRootTask;function checkIsBareRepoTask(){const e=["rev-parse","--is-bare-repository"];return{commands:e,format:"utf-8",onError:onError,parser:parser}}t.checkIsBareRepoTask=checkIsBareRepoTask;function isNotRepoMessage(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}},276:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isCleanOptionsArray=t.cleanTask=t.cleanWithOptionsTask=t.CleanOptions=t.CONFIG_ERROR_UNKNOWN_OPTION=t.CONFIG_ERROR_MODE_REQUIRED=t.CONFIG_ERROR_INTERACTIVE_MODE=void 0;const n=r(5389);const s=r(8718);const o=r(9252);t.CONFIG_ERROR_INTERACTIVE_MODE="Git clean interactive mode is not supported";t.CONFIG_ERROR_MODE_REQUIRED='Git clean mode parameter ("n" or "f") is required';t.CONFIG_ERROR_UNKNOWN_OPTION="Git clean unknown option found in: ";var i;(function(e){e["DRY_RUN"]="n";e["FORCE"]="f";e["IGNORED_INCLUDED"]="x";e["IGNORED_ONLY"]="X";e["EXCLUDING"]="e";e["QUIET"]="q";e["RECURSIVE"]="d"})(i=t.CleanOptions||(t.CleanOptions={}));const a=new Set(["i",...s.asStringArray(Object.values(i))]);function cleanWithOptionsTask(e,r){const{cleanMode:n,options:s,valid:i}=getCleanOptions(e);if(!n){return o.configurationErrorTask(t.CONFIG_ERROR_MODE_REQUIRED)}if(!i.options){return o.configurationErrorTask(t.CONFIG_ERROR_UNKNOWN_OPTION+JSON.stringify(e))}s.push(...r);if(s.some(isInteractiveMode)){return o.configurationErrorTask(t.CONFIG_ERROR_INTERACTIVE_MODE)}return cleanTask(n,s)}t.cleanWithOptionsTask=cleanWithOptionsTask;function cleanTask(e,t){const r=["clean",`-${e}`,...t];return{commands:r,format:"utf-8",parser(t){return n.cleanSummaryParser(e===i.DRY_RUN,t)}}}t.cleanTask=cleanTask;function isCleanOptionsArray(e){return Array.isArray(e)&&e.every((e=>a.has(e)))}t.isCleanOptionsArray=isCleanOptionsArray;function getCleanOptions(e){let t;let r=[];let n={cleanMode:false,options:true};e.replace(/[^a-z]i/g,"").split("").forEach((e=>{if(isCleanMode(e)){t=e;n.cleanMode=true}else{n.options=n.options&&isKnownOption(r[r.length]=`-${e}`)}}));return{cleanMode:t,options:r,valid:n}}function isCleanMode(e){return e===i.FORCE||e===i.DRY_RUN}function isKnownOption(e){return/^-[a-z]$/i.test(e)&&a.has(e.charAt(1))}function isInteractiveMode(e){if(/^-[^\-]/.test(e)){return e.indexOf("i")>0}return e==="--interactive"}},8440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.cloneMirrorTask=t.cloneTask=void 0;const n=r(9252);const s=r(8718);function cloneTask(e,t,r){const s=["clone",...r];if(typeof e==="string"){s.push(e)}if(typeof t==="string"){s.push(t)}return n.straightThroughStringTask(s)}t.cloneTask=cloneTask;function cloneMirrorTask(e,t,r){s.append(r,"--mirror");return cloneTask(e,t,r)}t.cloneMirrorTask=cloneMirrorTask},9978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.commitTask=void 0;const n=r(6202);function commitTask(e,t,r){const s=["commit"];e.forEach((e=>s.push("-m",e)));s.push(...t,...r);return{commands:s,format:"utf-8",parser:n.parseCommitResult}}t.commitTask=commitTask},2235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitConfigScope=void 0;const n=r(9761);const s=r(8718);var o;(function(e){e["system"]="system";e["global"]="global";e["local"]="local";e["worktree"]="worktree"})(o=t.GitConfigScope||(t.GitConfigScope={}));function asConfigScope(e,t){if(typeof e==="string"&&o.hasOwnProperty(e)){return e}return t}function addConfigTask(e,t,r,n){const s=["config",`--${n}`];if(r){s.push("--add")}s.push(e,t);return{commands:s,format:"utf-8",parser(e){return e}}}function getConfigTask(e,t){const r=["config","--null","--show-origin","--get-all",e];if(t){r.splice(1,0,`--${t}`)}return{commands:r,format:"utf-8",parser(t){return n.configGetParser(t,e)}}}function listConfigTask(e){const t=["config","--list","--show-origin","--null"];if(e){t.push(`--${e}`)}return{commands:t,format:"utf-8",parser(e){return n.configListParser(e)}}}function default_1(){return{addConfig(e,t,...r){return this._runTask(addConfigTask(e,t,r[0]===true,asConfigScope(r[1],o.local)),s.trailingFunctionArgument(arguments))},getConfig(e,t){return this._runTask(getConfigTask(e,asConfigScope(t,undefined)),s.trailingFunctionArgument(arguments))},listConfig(...e){return this._runTask(listConfigTask(asConfigScope(e[0],undefined)),s.trailingFunctionArgument(arguments))}}}t["default"]=default_1},2754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.diffSummaryTask=void 0;const n=r(2845);function diffSummaryTask(e){return{commands:["diff","--stat=4096",...e],format:"utf-8",parser(e){return n.parseDiffResult(e)}}}t.diffSummaryTask=diffSummaryTask},7185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fetchTask=void 0;const n=r(9806);function fetchTask(e,t,r){const s=["fetch",...r];if(e&&t){s.push(e,t)}return{commands:s,format:"utf-8",parser:n.parseFetchResult}}t.fetchTask=fetchTask},4636:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:true});t.grepQueryBuilder=void 0;const s=r(8718);const o=r(9252);const i=["-h"];const a=Symbol("grepQuery");class GrepQuery{constructor(){this[n]=[]}*[(n=a,Symbol.iterator)](){for(const e of this[a]){yield e}}and(...e){e.length&&this[a].push("--and","(",...s.prefixedArray(e,"-e"),")");return this}param(...e){this[a].push(...s.prefixedArray(e,"-e"));return this}}function grepQueryBuilder(...e){return(new GrepQuery).param(...e)}t.grepQueryBuilder=grepQueryBuilder;function parseGrep(e){const t=new Set;const r={};s.forEachLineWithContent(e,(e=>{const[n,o,i]=e.split(s.NULL);t.add(n);(r[n]=r[n]||[]).push({line:s.asNumber(o),path:n,preview:i})}));return{paths:t,results:r}}function default_1(){return{grep(e){const t=s.trailingFunctionArgument(arguments);const r=s.getTrailingOptions(arguments);for(const e of i){if(r.includes(e)){return this._runTask(o.configurationErrorTask(`git.grep: use of "${e}" is not supported.`),t)}}if(typeof e==="string"){e=grepQueryBuilder().param(e)}const n=["grep","--null","-n","--full-name",...r,...e];return this._runTask({commands:n,format:"utf-8",parser(e){return parseGrep(e)}},t)}}}t["default"]=default_1},22:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.hashObjectTask=void 0;const n=r(9252);function hashObjectTask(e,t){const r=["hash-object",e];if(t){r.push("-w")}return n.straightThroughStringTask(r,true)}t.hashObjectTask=hashObjectTask},6943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initTask=void 0;const n=r(973);const s="--bare";function hasBareCommand(e){return e.includes(s)}function initTask(e=false,t,r){const o=["init",...r];if(e&&!hasBareCommand(o)){o.splice(1,0,s)}return{commands:o,format:"utf-8",parser(e){return n.parseInit(o.includes("--bare"),t,e)}}}t.initTask=initTask},8198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.logTask=t.parseLogOptions=void 0;const n=r(4986);const s=r(8718);const o=r(9252);var i;(function(e){e[e["--pretty"]=0]="--pretty";e[e["max-count"]=1]="max-count";e[e["maxCount"]=2]="maxCount";e[e["n"]=3]="n";e[e["file"]=4]="file";e[e["format"]=5]="format";e[e["from"]=6]="from";e[e["to"]=7]="to";e[e["splitter"]=8]="splitter";e[e["symmetric"]=9]="symmetric";e[e["mailMap"]=10]="mailMap";e[e["multiLine"]=11]="multiLine";e[e["strictDate"]=12]="strictDate"})(i||(i={}));function prettyFormat(e,t){const r=[];const n=[];Object.keys(e).forEach((t=>{r.push(t);n.push(String(e[t]))}));return[r,n.join(t)]}function userOptions(e){const t=Object.assign({},e);Object.keys(e).forEach((e=>{if(e in i){delete t[e]}}));return t}function parseLogOptions(e={},t=[]){const r=e.splitter||n.SPLITTER;const o=e.format||{hash:"%H",date:e.strictDate===false?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==false?"%aN":"%an",author_email:e.mailMap!==false?"%aE":"%ae"};const[i,a]=prettyFormat(o,r);const u=[];const c=[`--pretty=format:${n.START_BOUNDARY}${a}${n.COMMIT_BOUNDARY}`,...t];const l=e.n||e["max-count"]||e.maxCount;if(l){c.push(`--max-count=${l}`)}if(e.from&&e.to){const t=e.symmetric!==false?"...":"..";u.push(`${e.from}${t}${e.to}`)}if(e.file){u.push("--follow",e.file)}s.appendTaskOptions(userOptions(e),c);return{fields:i,splitter:r,commands:[...c,...u]}}t.parseLogOptions=parseLogOptions;function logTask(e,t,r){return{commands:["log",...r],format:"utf-8",parser:n.createListLogSummaryParser(e,t)}}t.logTask=logTask;function default_1(){return{log(...e){const t=s.trailingFunctionArgument(arguments);const r=rejectDeprecatedSignatures(...e)||createLogTask(parseLogOptions(s.trailingOptionsArgument(arguments),s.filterType(arguments[0],s.filterArray)));return this._runTask(r,t)}};function createLogTask(e){return logTask(e.splitter,e.fields,e.commands)}function rejectDeprecatedSignatures(e,t){return s.filterString(e)&&s.filterString(t)&&o.configurationErrorTask(`git.log(string, string) should be replaced with git.log({ from: string, to: string })`)}}t["default"]=default_1},8763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mergeTask=void 0;const n=r(3695);const s=r(3160);const o=r(9252);function mergeTask(e){if(!e.length){return o.configurationErrorTask("Git.merge requires at least one option")}return{commands:["merge",...e],format:"utf-8",parser(e,t){const r=s.parseMergeResult(e,t);if(r.failed){throw new n.GitResponseError(r)}return r}}}t.mergeTask=mergeTask},1591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.moveTask=void 0;const n=r(3617);const s=r(8718);function moveTask(e,t){return{commands:["mv","-v",...s.asArray(e),t],format:"utf-8",parser:n.parseMoveResult}}t.moveTask=moveTask},1969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.pullTask=void 0;const n=r(9613);function pullTask(e,t,r){const s=["pull",...r];if(e&&t){s.splice(1,0,e,t)}return{commands:s,format:"utf-8",parser(e,t){return n.parsePullResult(e,t)}}}t.pullTask=pullTask},7647:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.pushTask=t.pushTagsTask=void 0;const n=r(9740);const s=r(8718);function pushTagsTask(e={},t){s.append(t,"--tags");return pushTask(e,t)}t.pushTagsTask=pushTagsTask;function pushTask(e={},t){const r=["push",...t];if(e.branch){r.splice(1,0,e.branch)}if(e.remote){r.splice(1,0,e.remote)}s.remove(r,"-v");s.append(r,"--verbose");s.append(r,"--porcelain");return{commands:r,format:"utf-8",parser:n.parsePushResult}}t.pushTask=pushTask},6317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.removeRemoteTask=t.remoteTask=t.listRemotesTask=t.getRemotesTask=t.addRemoteTask=void 0;const n=r(3568);const s=r(9252);function addRemoteTask(e,t,r=[]){return s.straightThroughStringTask(["remote","add",...r,e,t])}t.addRemoteTask=addRemoteTask;function getRemotesTask(e){const t=["remote"];if(e){t.push("-v")}return{commands:t,format:"utf-8",parser:e?n.parseGetRemotesVerbose:n.parseGetRemotes}}t.getRemotesTask=getRemotesTask;function listRemotesTask(e=[]){const t=[...e];if(t[0]!=="ls-remote"){t.unshift("ls-remote")}return s.straightThroughStringTask(t)}t.listRemotesTask=listRemotesTask;function remoteTask(e=[]){const t=[...e];if(t[0]!=="remote"){t.unshift("remote")}return s.straightThroughStringTask(t)}t.remoteTask=remoteTask;function removeRemoteTask(e){return s.straightThroughStringTask(["remote","remove",e])}t.removeRemoteTask=removeRemoteTask},9582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getResetMode=t.resetTask=t.ResetMode=void 0;const n=r(9252);var s;(function(e){e["MIXED"]="mixed";e["SOFT"]="soft";e["HARD"]="hard";e["MERGE"]="merge";e["KEEP"]="keep"})(s=t.ResetMode||(t.ResetMode={}));const o=Array.from(Object.values(s));function resetTask(e,t){const r=["reset"];if(isValidResetMode(e)){r.push(`--${e}`)}r.push(...t);return n.straightThroughStringTask(r)}t.resetTask=resetTask;function getResetMode(e){if(isValidResetMode(e)){return e}switch(typeof e){case"string":case"undefined":return s.SOFT}return}t.getResetMode=getResetMode;function isValidResetMode(e){return o.includes(e)}},4024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.stashListTask=void 0;const n=r(4986);const s=r(8198);function stashListTask(e={},t){const r=s.parseLogOptions(e);const o=n.createListLogSummaryParser(r.splitter,r.fields);return{commands:["stash","list",...r.commands,...t],format:"utf-8",parser:o}}t.stashListTask=stashListTask},4930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.statusTask=void 0;const n=r(746);function statusTask(e){return{format:"utf-8",commands:["status","--porcelain","-b","-u",...e],parser(e){return n.parseStatusSummary(e)}}}t.statusTask=statusTask},4764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateSubModuleTask=t.subModuleTask=t.initSubModuleTask=t.addSubModuleTask=void 0;const n=r(9252);function addSubModuleTask(e,t){return subModuleTask(["add",e,t])}t.addSubModuleTask=addSubModuleTask;function initSubModuleTask(e){return subModuleTask(["init",...e])}t.initSubModuleTask=initSubModuleTask;function subModuleTask(e){const t=[...e];if(t[0]!=="submodule"){t.unshift("submodule")}return n.straightThroughStringTask(t)}t.subModuleTask=subModuleTask;function updateSubModuleTask(e){return subModuleTask(["update",...e])}t.updateSubModuleTask=updateSubModuleTask},774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addAnnotatedTagTask=t.addTagTask=t.tagListTask=void 0;const n=r(5966);function tagListTask(e=[]){const t=e.some((e=>/^--sort=/.test(e)));return{format:"utf-8",commands:["tag","-l",...e],parser(e){return n.parseTagList(e,t)}}}t.tagListTask=tagListTask;function addTagTask(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}t.addTagTask=addTagTask;function addAnnotatedTagTask(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}t.addAnnotatedTagTask=addAnnotatedTagTask},9252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isEmptyTask=t.isBufferTask=t.straightThroughBufferTask=t.straightThroughStringTask=t.configurationErrorTask=t.adhocExecTask=t.EMPTY_COMMANDS=void 0;const n=r(3914);t.EMPTY_COMMANDS=[];function adhocExecTask(e){return{commands:t.EMPTY_COMMANDS,format:"empty",parser:e}}t.adhocExecTask=adhocExecTask;function configurationErrorTask(e){return{commands:t.EMPTY_COMMANDS,format:"empty",parser(){throw typeof e==="string"?new n.TaskConfigurationError(e):e}}}t.configurationErrorTask=configurationErrorTask;function straightThroughStringTask(e,t=false){return{commands:e,format:"utf-8",parser(e){return t?String(e).trim():e}}}t.straightThroughStringTask=straightThroughStringTask;function straightThroughBufferTask(e){return{commands:e,format:"buffer",parser(e){return e}}}t.straightThroughBufferTask=straightThroughBufferTask;function isBufferTask(e){return e.format==="buffer"}t.isBufferTask=isBufferTask;function isEmptyTask(e){return e.format==="empty"||!e.commands.length}t.isEmptyTask=isEmptyTask},778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.filterHasLength=t.filterFunction=t.filterPlainObject=t.filterStringOrStringArray=t.filterStringArray=t.filterString=t.filterPrimitives=t.filterArray=t.filterType=void 0;const n=r(6325);function filterType(e,t,r){if(t(e)){return e}return arguments.length>2?r:undefined}t.filterType=filterType;const filterArray=e=>Array.isArray(e);t.filterArray=filterArray;function filterPrimitives(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))}t.filterPrimitives=filterPrimitives;const filterString=e=>typeof e==="string";t.filterString=filterString;const filterStringArray=e=>Array.isArray(e)&&e.every(t.filterString);t.filterStringArray=filterStringArray;const filterStringOrStringArray=e=>t.filterString(e)||Array.isArray(e)&&e.every(t.filterString);t.filterStringOrStringArray=filterStringOrStringArray;function filterPlainObject(e){return!!e&&n.objectToString(e)==="[object Object]"}t.filterPlainObject=filterPlainObject;function filterFunction(e){return typeof e==="function"}t.filterFunction=filterFunction;const filterHasLength=e=>{if(e==null||"number|boolean|function".includes(typeof e)){return false}return Array.isArray(e)||typeof e==="string"||typeof e.length==="number"};t.filterHasLength=filterHasLength},5680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ExitCodes=void 0;var r;(function(e){e[e["SUCCESS"]=0]="SUCCESS";e[e["ERROR"]=1]="ERROR";e[e["UNCLEAN"]=128]="UNCLEAN"})(r=t.ExitCodes||(t.ExitCodes={}))},2204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GitOutputStreams=void 0;class GitOutputStreams{constructor(e,t){this.stdOut=e;this.stdErr=t}asStrings(){return new GitOutputStreams(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}t.GitOutputStreams=GitOutputStreams},8718:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r(778),t);s(r(5680),t);s(r(2204),t);s(r(3203),t);s(r(9176),t);s(r(1671),t);s(r(7196),t);s(r(6325),t)},3203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RemoteLineParser=t.LineParser=void 0;class LineParser{constructor(e,t){this.matches=[];this.parse=(e,t)=>{this.resetMatches();if(!this._regExp.every(((t,r)=>this.addMatch(t,r,e(r))))){return false}return this.useMatches(t,this.prepareMatches())!==false};this._regExp=Array.isArray(e)?e:[e];if(t){this.useMatches=t}}useMatches(e,t){throw new Error(`LineParser:useMatches not implemented`)}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,r){const n=r&&e.exec(r);if(n){this.pushMatch(t,n)}return!!n}pushMatch(e,t){this.matches.push(...t.slice(1))}}t.LineParser=LineParser;class RemoteLineParser extends LineParser{addMatch(e,t,r){return/^remote:\s/.test(String(r))&&super.addMatch(e,t,r)}pushMatch(e,t){if(e>0||t.length>1){super.pushMatch(e,t)}}}t.RemoteLineParser=RemoteLineParser},9176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createInstanceConfig=void 0;const r={binary:"git",maxConcurrentProcesses:5,config:[]};function createInstanceConfig(...e){const t=process.cwd();const n=Object.assign(Object.assign({baseDir:t},r),...e.filter((e=>typeof e==="object"&&e)));n.baseDir=n.baseDir||t;return n}t.createInstanceConfig=createInstanceConfig},1671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.trailingFunctionArgument=t.trailingOptionsArgument=t.getTrailingOptions=t.appendTaskOptions=void 0;const n=r(778);const s=r(6325);function appendTaskOptions(e,t=[]){if(!n.filterPlainObject(e)){return t}return Object.keys(e).reduce(((t,r)=>{const s=e[r];if(n.filterPrimitives(s,["boolean"])){t.push(r+"="+s)}else{t.push(r)}return t}),t)}t.appendTaskOptions=appendTaskOptions;function getTrailingOptions(e,t=0,r=false){const n=[];for(let r=0,s=t<0?e.length:t;r<s;r++){if("string|number".includes(typeof e[r])){n.push(String(e[r]))}}appendTaskOptions(trailingOptionsArgument(e),n);if(!r){n.push(...trailingArrayArgument(e))}return n}t.getTrailingOptions=getTrailingOptions;function trailingArrayArgument(e){const t=typeof s.last(e)==="function";return n.filterType(s.last(e,t?1:0),n.filterArray,[])}function trailingOptionsArgument(e){const t=n.filterFunction(s.last(e));return n.filterType(s.last(e,t?1:0),n.filterPlainObject)}t.trailingOptionsArgument=trailingOptionsArgument;function trailingFunctionArgument(e,t=true){const r=s.asFunction(s.last(e));return t||s.isUserFunction(r)?r:undefined}t.trailingFunctionArgument=trailingFunctionArgument},7196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseStringResponse=t.callTaskParser=void 0;const n=r(6325);function callTaskParser(e,t){return e(t.stdOut,t.stdErr)}t.callTaskParser=callTaskParser;function parseStringResponse(e,t,...r){r.forEach((r=>{for(let s=n.toLinesWithContent(r),o=0,i=s.length;o<i;o++){const line=(e=0)=>{if(o+e>=i){return}return s[o+e]};t.some((({parse:t})=>t(line,e)))}}));return e}t.parseStringResponse=parseStringResponse},6325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.delay=t.pick=t.bufferToString=t.prefixedArray=t.asNumber=t.asStringArray=t.asArray=t.objectToString=t.remove=t.including=t.append=t.folderExists=t.forEachLineWithContent=t.toLinesWithContent=t.last=t.first=t.splitOn=t.isUserFunction=t.asFunction=t.NOOP=t.NULL=void 0;const n=r(3248);t.NULL="\0";const NOOP=()=>{};t.NOOP=NOOP;function asFunction(e){return typeof e==="function"?e:t.NOOP}t.asFunction=asFunction;function isUserFunction(e){return typeof e==="function"&&e!==t.NOOP}t.isUserFunction=isUserFunction;function splitOn(e,t){const r=e.indexOf(t);if(r<=0){return[e,""]}return[e.substr(0,r),e.substr(r+1)]}t.splitOn=splitOn;function first(e,t=0){return isArrayLike(e)&&e.length>t?e[t]:undefined}t.first=first;function last(e,t=0){if(isArrayLike(e)&&e.length>t){return e[e.length-1-t]}}t.last=last;function isArrayLike(e){return!!(e&&typeof e.length==="number")}function toLinesWithContent(e,t=true,r="\n"){return e.split(r).reduce(((e,r)=>{const n=t?r.trim():r;if(n){e.push(n)}return e}),[])}t.toLinesWithContent=toLinesWithContent;function forEachLineWithContent(e,t){return toLinesWithContent(e,true).map((e=>t(e)))}t.forEachLineWithContent=forEachLineWithContent;function folderExists(e){return n.exists(e,n.FOLDER)}t.folderExists=folderExists;function append(e,t){if(Array.isArray(e)){if(!e.includes(t)){e.push(t)}}else{e.add(t)}return t}t.append=append;function including(e,t){if(Array.isArray(e)&&!e.includes(t)){e.push(t)}return e}t.including=including;function remove(e,t){if(Array.isArray(e)){const r=e.indexOf(t);if(r>=0){e.splice(r,1)}}else{e.delete(t)}return t}t.remove=remove;t.objectToString=Object.prototype.toString.call.bind(Object.prototype.toString);function asArray(e){return Array.isArray(e)?e:[e]}t.asArray=asArray;function asStringArray(e){return asArray(e).map(String)}t.asStringArray=asStringArray;function asNumber(e,t=0){if(e==null){return t}const r=parseInt(e,10);return isNaN(r)?t:r}t.asNumber=asNumber;function prefixedArray(e,t){const r=[];for(let n=0,s=e.length;n<s;n++){r.push(t,e[n])}return r}t.prefixedArray=prefixedArray;function bufferToString(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}t.bufferToString=bufferToString;function pick(e,t){return Object.assign({},...t.map((t=>t in e?{[t]:e[t]}:{})))}t.pick=pick;function delay(e=0){return new Promise((t=>setTimeout(t,e)))}t.delay=delay},9137:(e,t,r)=>{"use strict";const n=r(2037);const s=r(6224);const o=r(6142);const{env:i}=process;let a;if(o("no-color")||o("no-colors")||o("color=false")||o("color=never")){a=0}else if(o("color")||o("colors")||o("color=true")||o("color=always")){a=1}if("FORCE_COLOR"in i){if(i.FORCE_COLOR==="true"){a=1}else if(i.FORCE_COLOR==="false"){a=0}else{a=i.FORCE_COLOR.length===0?1:Math.min(parseInt(i.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,t){if(a===0){return 0}if(o("color=16m")||o("color=full")||o("color=truecolor")){return 3}if(o("color=256")){return 2}if(e&&!t&&a===undefined){return 0}const r=a||0;if(i.TERM==="dumb"){return r}if(process.platform==="win32"){const e=n.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in i){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||i.CI_NAME==="codeship"){return 1}return r}if("TEAMCITY_VERSION"in i){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0}if(i.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(i.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)){return 1}if("COLORTERM"in i){return 1}return r}function getSupportLevel(e){const t=supportsColor(e,e&&e.isTTY);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,s.isatty(1))),stderr:translateLevel(supportsColor(true,s.isatty(2)))}},9300:e=>{
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var t;var r;var n;var s;var o;var i;var a;var u;var c;var l;var f;var p;var d;var h;var g;var m;var y;var b;var v;var _;var T;var k;var O;var C;(function(t){var r=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd){define("tslib",["exports"],(function(e){t(createExporter(r,createExporter(e)))}))}else if(true&&typeof e.exports==="object"){t(createExporter(r,createExporter(e.exports)))}else{t(createExporter(r))}function createExporter(e,t){if(e!==r){if(typeof Object.create==="function"){Object.defineProperty(e,"__esModule",{value:true})}else{e.__esModule=true}}return function(r,n){return e[r]=t?t(r,n):n}}})((function(e){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};t=function(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");E(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)};r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};n=function(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++){if(t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s]))r[n[s]]=e[n[s]]}return r};s=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)if(i=e[a])o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o;return s>3&&o&&Object.defineProperty(t,r,o),o};o=function(e,t){return function(r,n){t(r,n,e)}};i=function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};a=function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};u=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};c=function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))C(t,e,r)};C=Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]};l=function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};f=function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{while((t===void 0||t-- >0)&&!(s=n.next()).done)o.push(s.value)}catch(e){i={error:e}}finally{try{if(s&&!s.done&&(r=n["return"]))r.call(n)}finally{if(i)throw i.error}}return o};p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e};d=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n};h=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++){if(o||!(n in t)){if(!o)o=Array.prototype.slice.call(t,0,n);o[n]=t[n]}}return e.concat(o||Array.prototype.slice.call(t))};g=function(e){return this instanceof g?(this.v=e,this):new g(e)};m=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s={},verb("next"),verb("throw"),verb("return"),s[Symbol.asyncIterator]=function(){return this},s;function verb(e){if(n[e])s[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||resume(e,t)}))}}function resume(e,t){try{step(n[e](t))}catch(e){settle(o[0][3],e)}}function step(e){e.value instanceof g?Promise.resolve(e.value.v).then(fulfill,reject):settle(o[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){if(e(t),o.shift(),o.length)resume(o[0][0],o[0][1])}};y=function(e){var t,r;return t={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(n,s){t[n]=e[n]?function(t){return(r=!r)?{value:g(e[n](t)),done:n==="return"}:s?s(t):t}:s}};b=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof l==="function"?l(e):e[Symbol.iterator](),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise((function(n,s){r=e[t](r),settle(n,s,r.done,r.value)}))}}function settle(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}};v=function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var w=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t};_=function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))C(t,e,r);w(t,e);return t};T=function(e){return e&&e.__esModule?e:{default:e}};k=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)};O=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r};e("__extends",t);e("__assign",r);e("__rest",n);e("__decorate",s);e("__param",o);e("__metadata",i);e("__awaiter",a);e("__generator",u);e("__exportStar",c);e("__createBinding",C);e("__values",l);e("__read",f);e("__spread",p);e("__spreadArrays",d);e("__spreadArray",h);e("__await",g);e("__asyncGenerator",m);e("__asyncDelegator",y);e("__asyncValues",b);e("__makeTemplateObject",v);e("__importStar",_);e("__importDefault",T);e("__classPrivateFieldGet",k);e("__classPrivateFieldSet",O)}))},7028:(e,t,r)=>{e.exports=r(7079)},7079:(e,t,r)=>{"use strict";var n=r(1808);var s=r(4404);var o=r(3685);var i=r(5687);var a=r(2361);var u=r(9491);var c=r(3837);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=i.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=i.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,r,n,s){var o=toOptions(r,n,s);for(var i=0,a=t.requests.length;i<a;++i){var u=t.requests[i];if(u.host===o.host&&u.port===o.port){t.requests.splice(i,1);u.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}c.inherits(TunnelingAgent,a.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,r,n){var s=this;var o=mergeOptions({request:e},s.options,toOptions(t,r,n));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){s.emit("free",t,o)}function onCloseOrRemove(e){s.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var r=this;var n={};r.sockets.push(n);var s=mergeOptions({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){s.localAddress=e.localAddress}if(s.proxyAuth){s.headers=s.headers||{};s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")}l("making CONNECT request");var o=r.request(s);o.useChunkedEncodingByDefault=false;o.once("response",onResponse);o.once("upgrade",onUpgrade);o.once("connect",onConnect);o.once("error",onError);o.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,r){process.nextTick((function(){onConnect(e,t,r)}))}function onConnect(s,i,a){o.removeAllListeners();i.removeAllListeners();if(s.statusCode!==200){l("tunneling socket could not be established, statusCode=%d",s.statusCode);i.destroy();var u=new Error("tunneling socket could not be established, "+"statusCode="+s.statusCode);u.code="ECONNRESET";e.request.emit("error",u);r.removeSocket(n);return}if(a.length>0){l("got illegal response body from proxy");i.destroy();var u=new Error("got illegal response body from proxy");u.code="ECONNRESET";e.request.emit("error",u);r.removeSocket(n);return}l("tunneling connection has established");r.sockets[r.sockets.indexOf(n)]=i;return t(i)}function onError(t){o.removeAllListeners();l("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=new Error("tunneling socket could not be established, "+"cause="+t.message);s.code="ECONNRESET";e.request.emit("error",s);r.removeSocket(n)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var r=this.requests.shift();if(r){this.createSocket(r,(function(e){r.request.onSocket(e)}))}};function createSecureSocket(e,t){var r=this;TunnelingAgent.prototype.createSocket.call(r,e,(function(n){var o=e.request.getHeader("host");var i=mergeOptions({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host});var a=s.connect(0,i);r.sockets[r.sockets.indexOf(n)]=a;t(a)}))}function toOptions(e,t,r){if(typeof e==="string"){return{host:e,port:t,localAddress:r}}return e}function mergeOptions(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n==="object"){var s=Object.keys(n);for(var o=0,i=s.length;o<i;++o){var a=s[o];if(n[a]!==undefined){e[a]=n[a]}}}}return e}var l;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){l=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{l=function(){}}t.debug=l},9173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9300);(0,n.__exportStar)(r(472),t)},472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9300);const s=r(9187);const o=r(5915);const i=new s.SerializerNext;const a=process.env["KJAM_SKIP_GIT"]==="true"?null:new o.Git(i.root,i.run.bind(i));function run(){return(0,n.__awaiter)(this,void 0,void 0,(function*(){if(a){yield a.run()}else{yield i.run()}}))}run().then(a?()=>a.success():()=>{}).catch(a?e=>a.error(e):()=>{})},5915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9300);(0,n.__exportStar)(r(4741),t)},4741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Git=void 0;const n=r(9300);const s=r(754);const o=r(1733);function log(e,t){if(t)console.log(t);if(e)s.error(e)}class Git{constructor(e,t){this.errors=[];this.baseDir=e;this.afterFetch=t;this.outputs={committed:"false",commit_sha:undefined,pushed:"false"};Object.entries(this.outputs).forEach((([e,t])=>s.setOutput(e,t)))}run(){var e;return(0,n.__awaiter)(this,void 0,void 0,(function*(){const t=(0,o.default)({baseDir:this.baseDir});const r=((e=process.env["GITHUB_REF"])===null||e===void 0?void 0:e.substring(11))||"main";s.info(`Running in folder ${this.baseDir}...`);s.info("> Pulling from remote...");yield t.fetch(undefined,log).pull(undefined,undefined,undefined,log);yield this.afterFetch();s.info("> Checking for uncommitted changes in the git working tree...");const n=(yield t.status()).files.length;if(n){s.info(`> Found ${n} changed files.`);yield t.addConfig("user.name","knitkode",undefined,log).addConfig("author.name","@knitkode/kjam-action",undefined,log);yield t.fetch(["--tags","--force"],log);s.info("> Re-staging files...");yield t.add(".").catch((e=>{if(e.message.includes("fatal: pathspec")&&e.message.includes("did not match any files")){this.errors.push(new Error(`Add command did not match any file`))}else throw e}));s.info("> Creating commit...");yield t.commit("Update '.kjam' output",undefined,{},((e,t)=>{if(t){this.setOutput("committed","true");this.setOutput("commit_sha",t.commit)}return log(e,t)}));s.info("> Pushing commit to repo...");yield t.push("origin",r,{"--set-upstream":null},((e,t)=>{if(t)this.setOutput("pushed","true");return log(e,t)}));s.endGroup();s.info("> Task completed ")}else{s.endGroup();s.info("> Working tree clean. Nothing to commit.")}}))}setOutput(e,t){this.outputs[e]=t;s.setOutput(e,t)}logOutputs(){s.startGroup("Outputs");for(const e in this.outputs){s.info(`${e}: ${this.outputs[e]}`)}s.endGroup()}success(){if(this.errors.length===1){throw this.errors[0]}else if(this.errors.length>1){this.errors.forEach((e=>s.error(e)));throw"There have been multiple runtime errors."}this.logOutputs()}error(e){s.endGroup();this.logOutputs();s.setFailed(e)}}t.Git=Git},9187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9300);(0,n.__exportStar)(r(7909),t)},7909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SerializerNext=void 0;const n=r(9300);const s=r(3406);const o=r(8579);class SerializerNext extends s.Serializer{start(){return(0,n.__awaiter)(this,void 0,void 0,(function*(){this.writeFile("next.config",{i18n:{locales:this.i18n.locales,defaultLocale:this.i18n.defaultLocale},redirects:this.getRedirects(),rewrites:this.getRewrites()});return}))}getRedirects(){const{routes:e,i18n:t}=this;const r=[];for(const[n,s]of Object.entries(e)){for(let[e,o]of Object.entries(s)){const s=`/${n}`;if(o!==s){if(e!==t.defaultLocale){o=`${e}/${o}`}const n=this.getDynamicPathRedirect(e,s,o);const i=this.getDynamicPathRedirect(e,s,o,true);r.push(n);r.push(i)}}}if(this.debug){console.log("KjamNext::redirects",r)}return r}getRewrites(){const{routes:e}=this;const t=[];for(const[r,n]of Object.entries(e)){for(const[e,s]of Object.entries(n)){const e=`/${r}`;if(s!==e){const r=this.getPathRewrite(s,e);const n=this.getPathRewrite(s,e,true);t.push(r);t.push(n)}}}if(this.debug){console.log("KjamNext::rewrites",t)}return t}getPathRewrite(e,t,r){const n=r?`/:path*`:"";return{source:`/${(0,o.encodePathname)(e)}${n}`,destination:`/${(0,o.encodePathname)(t)}${n}`}}getDynamicPathRedirect(e,t,r,n){const s=n?`/:slug*`:"";return{source:`/${e}/${(0,o.encodePathname)(t)}${s}`,destination:`/${(0,o.encodePathname)(r)}${s}`,permanent:false,locale:false}}}t.SerializerNext=SerializerNext},8579:module=>{module.exports=eval("require")("@kjam/core")},3406:module=>{module.exports=eval("require")("@kjam/serializer")},9491:e=>{"use strict";e.exports=require("assert")},2081:e=>{"use strict";e.exports=require("child_process")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},3837:e=>{"use strict";e.exports=require("util")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={exports:{}};var n=true;try{__webpack_modules__[e].call(r.exports,r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}return r.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__=__nccwpck_require__(9173);module.exports=__webpack_exports__})();